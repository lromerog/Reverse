/* Nike -- marketing-automation.optimization-client -- 1.16.1 */
(()=>{var e={35:(e,t)=>{function n(e,r,o,i,a,s){var c=Math.floor((r-e)/2)+e,u=a(o,i[c],!0);return 0===u?c:u>0?r-c>1?n(c,r,o,i,a,s):s==t.LEAST_UPPER_BOUND?r<i.length?r:-1:c:c-e>1?n(e,c,o,i,a,s):s==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,o,i){if(0===r.length)return-1;var a=n(-1,r.length,e,r,o,i||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===o(r[a],r[a-1],!0);)--a;return a}},65:(e,t,n)=>{t.SourceMapGenerator=n(945).SourceMapGenerator,t.SourceMapConsumer=n(606).SourceMapConsumer,t.SourceNode=n(171).SourceNode},139:function(e,t,n){var r,o,i;!function(){"use strict";o=[n(263),n(887),n(885)],r=function(e,t,n){var r={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},o=function(){try{throw new Error}catch(e){return e}};function i(e,t){var n={};return[e,t].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n})),n}function a(e){return e.stack||e["opera#sourceloc"]}function s(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=o();return a(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=i(r,n);var c=o();return s(a(c)?e.parse(c):t.backtrace(n),n.filter)},fromError:function(t,o){o=i(r,o);var a=new n(o);return new Promise(function(n){var r=s(e.parse(t),o.filter);n(Promise.all(r.map((function(e){return new Promise((function(t){function n(){t(e)}a.pinpoint(e).then(t,n).catch(n)}))}))))}.bind(this))},generateArtificially:function(e){e=i(r,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var o=function(){try{return this.get().then(t,n).catch(n),e.apply(r||this,arguments)}catch(e){throw a(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return o.__stacktraceOriginalFn=e,o},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n,r){return new Promise((function(o,i){var a=new XMLHttpRequest;if(a.onerror=i,a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<400?o(a.responseText):i(new Error("POST to "+t+" failed with status: "+a.status)))},a.open("post",t),a.setRequestHeader("Content-Type","application/json"),r&&"object"==typeof r.headers){var s=r.headers;for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.setRequestHeader(c,s[c])}var u={stack:e};null!=n&&(u.message=n),a.send(JSON.stringify(u))}))}}},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)}()},171:(e,t,n)=>{var r=n(945).SourceMapGenerator,o=n(835),i=/(\r?\n)/,a="$$$isSourceNode$$$";function s(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[a]=!0,null!=r&&this.add(r)}s.fromStringWithSourceMap=function(e,t,n){var r=new s,a=e.split(i),c=function(){return a.shift()+(a.shift()||"")},u=1,l=0,f=null;return t.eachMapping((function(e){if(null!==f){if(!(u<e.generatedLine)){var t=(n=a[0]).substr(0,e.generatedColumn-l);return a[0]=n.substr(e.generatedColumn-l),l=e.generatedColumn,d(f,t),void(f=e)}d(f,c()),u++,l=0}for(;u<e.generatedLine;)r.add(c()),u++;if(l<e.generatedColumn){var n=a[0];r.add(n.substr(0,e.generatedColumn)),a[0]=n.substr(e.generatedColumn),l=e.generatedColumn}f=e}),this),a.length>0&&(f&&d(f,c()),r.add(a.join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=o.join(n,e)),r.setSourceContent(e,i))})),r;function d(e,t){if(null===e||void 0===e.source)r.add(t);else{var i=n?o.join(n,e.source):e.source;r.add(new s(e.originalLine,e.originalColumn,i,t,e.name))}}},s.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},s.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},s.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[a]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},s.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},s.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(o.fromSetString(r[t]),this.sourceContents[r[t]])},s.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},s.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),o=!1,i=null,a=null,s=null,c=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(i===r.source&&a===r.line&&s===r.column&&c===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),i=r.source,a=r.line,s=r.column,c=r.name,o=!0):o&&(n.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(i=null,o=!1):o&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=s},187:function(e,t){!function(){"use strict";var n={version:"3.0.1",x86:{},x64:{}};function r(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function o(e,t){return e<<t|e>>>32-t}function i(e){return e=r(e^=e>>>16,2246822507),e=r(e^=e>>>13,3266489909),e^=e>>>16}function a(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function s(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function u(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function l(e,t){return[e[0]^t[0],e[1]^t[1]]}function f(e){return e=l(e,[0,e[0]>>>1]),e=l(e=s(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=l(e=s(e,[3301882366,444984403]),[0,e[0]>>>1])}n.x86.hash32=function(e,t){t=t||0;for(var n=(e=e||"").length%4,a=e.length-n,s=t,c=0,u=3432918353,l=461845907,f=0;f<a;f+=4)c=r(c=255&e.charCodeAt(f)|(255&e.charCodeAt(f+1))<<8|(255&e.charCodeAt(f+2))<<16|(255&e.charCodeAt(f+3))<<24,u),c=r(c=o(c,15),l),s=r(s=o(s^=c,13),5)+3864292196;switch(c=0,n){case 3:c^=(255&e.charCodeAt(f+2))<<16;case 2:c^=(255&e.charCodeAt(f+1))<<8;case 1:c=r(c^=255&e.charCodeAt(f),u),s^=c=r(c=o(c,15),l)}return(s=i(s^=e.length))>>>0},n.x86.hash128=function(e,t){t=t||0;for(var n=(e=e||"").length%16,a=e.length-n,s=t,c=t,u=t,l=t,f=0,d=0,h=0,p=0,g=597399067,m=2869860233,v=951274213,y=2716044179,w=0;w<a;w+=16)f=255&e.charCodeAt(w)|(255&e.charCodeAt(w+1))<<8|(255&e.charCodeAt(w+2))<<16|(255&e.charCodeAt(w+3))<<24,d=255&e.charCodeAt(w+4)|(255&e.charCodeAt(w+5))<<8|(255&e.charCodeAt(w+6))<<16|(255&e.charCodeAt(w+7))<<24,h=255&e.charCodeAt(w+8)|(255&e.charCodeAt(w+9))<<8|(255&e.charCodeAt(w+10))<<16|(255&e.charCodeAt(w+11))<<24,p=255&e.charCodeAt(w+12)|(255&e.charCodeAt(w+13))<<8|(255&e.charCodeAt(w+14))<<16|(255&e.charCodeAt(w+15))<<24,f=o(f=r(f,g),15),s=o(s^=f=r(f,m),19),s=r(s+=c,5)+1444728091,d=o(d=r(d,m),16),c=o(c^=d=r(d,v),17),c=r(c+=u,5)+197830471,h=o(h=r(h,v),17),u=o(u^=h=r(h,y),15),u=r(u+=l,5)+2530024501,p=o(p=r(p,y),18),l=o(l^=p=r(p,g),13),l=r(l+=s,5)+850148119;switch(f=0,d=0,h=0,p=0,n){case 15:p^=e.charCodeAt(w+14)<<16;case 14:p^=e.charCodeAt(w+13)<<8;case 13:p=r(p^=e.charCodeAt(w+12),y),l^=p=r(p=o(p,18),g);case 12:h^=e.charCodeAt(w+11)<<24;case 11:h^=e.charCodeAt(w+10)<<16;case 10:h^=e.charCodeAt(w+9)<<8;case 9:h=r(h^=e.charCodeAt(w+8),v),u^=h=r(h=o(h,17),y);case 8:d^=e.charCodeAt(w+7)<<24;case 7:d^=e.charCodeAt(w+6)<<16;case 6:d^=e.charCodeAt(w+5)<<8;case 5:d=r(d^=e.charCodeAt(w+4),m),c^=d=r(d=o(d,16),v);case 4:f^=e.charCodeAt(w+3)<<24;case 3:f^=e.charCodeAt(w+2)<<16;case 2:f^=e.charCodeAt(w+1)<<8;case 1:f=r(f^=e.charCodeAt(w),g),s^=f=r(f=o(f,15),m)}return s^=e.length,s+=c^=e.length,s+=u^=e.length,c+=s+=l^=e.length,u+=s,l+=s,s=i(s),s+=c=i(c),s+=u=i(u),c+=s+=l=i(l),u+=s,l+=s,("00000000"+(s>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)},n.x64.hash128=function(e,t){t=t||0;for(var n=(e=e||"").length%16,r=e.length-n,o=[0,t],i=[0,t],d=[0,0],h=[0,0],p=[2277735313,289559509],g=[1291169091,658871167],m=0;m<r;m+=16)d=[255&e.charCodeAt(m+4)|(255&e.charCodeAt(m+5))<<8|(255&e.charCodeAt(m+6))<<16|(255&e.charCodeAt(m+7))<<24,255&e.charCodeAt(m)|(255&e.charCodeAt(m+1))<<8|(255&e.charCodeAt(m+2))<<16|(255&e.charCodeAt(m+3))<<24],h=[255&e.charCodeAt(m+12)|(255&e.charCodeAt(m+13))<<8|(255&e.charCodeAt(m+14))<<16|(255&e.charCodeAt(m+15))<<24,255&e.charCodeAt(m+8)|(255&e.charCodeAt(m+9))<<8|(255&e.charCodeAt(m+10))<<16|(255&e.charCodeAt(m+11))<<24],d=c(d=s(d,p),31),o=a(o=c(o=l(o,d=s(d,g)),27),i),o=a(s(o,[0,5]),[0,1390208809]),h=c(h=s(h,g),33),i=a(i=c(i=l(i,h=s(h,p)),31),o),i=a(s(i,[0,5]),[0,944331445]);switch(d=[0,0],h=[0,0],n){case 15:h=l(h,u([0,e.charCodeAt(m+14)],48));case 14:h=l(h,u([0,e.charCodeAt(m+13)],40));case 13:h=l(h,u([0,e.charCodeAt(m+12)],32));case 12:h=l(h,u([0,e.charCodeAt(m+11)],24));case 11:h=l(h,u([0,e.charCodeAt(m+10)],16));case 10:h=l(h,u([0,e.charCodeAt(m+9)],8));case 9:h=s(h=l(h,[0,e.charCodeAt(m+8)]),g),i=l(i,h=s(h=c(h,33),p));case 8:d=l(d,u([0,e.charCodeAt(m+7)],56));case 7:d=l(d,u([0,e.charCodeAt(m+6)],48));case 6:d=l(d,u([0,e.charCodeAt(m+5)],40));case 5:d=l(d,u([0,e.charCodeAt(m+4)],32));case 4:d=l(d,u([0,e.charCodeAt(m+3)],24));case 3:d=l(d,u([0,e.charCodeAt(m+2)],16));case 2:d=l(d,u([0,e.charCodeAt(m+1)],8));case 1:d=s(d=l(d,[0,e.charCodeAt(m)]),p),o=l(o,d=s(d=c(d,31),g))}return o=a(o=l(o,[0,e.length]),i=l(i,[0,e.length])),i=a(i,o),o=a(o=f(o),i=f(i)),i=a(i,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=n),t.murmurHash3=n}()},238:(e,t,n)=>{var r=n(835);function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){var t,n,o,i,a,s;t=this._last,n=e,o=t.generatedLine,i=n.generatedLine,a=t.generatedColumn,s=n.generatedColumn,i>o||i==o&&s>=a||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.P=o},263:function(e,t,n){var r,o,i;!function(){"use strict";o=[n(343)],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;var o=this.extractLocation(r?r[1]:n),i=r&&n||void 0,a=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:i,fileName:a,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?r.apply(t,o):r)||(e.exports=i)}()},343:function(e,t){var n,r,o;!function(){"use strict";r=[],void 0===(o="function"==typeof(n=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],a=["args"],s=["evalOrigin"],c=r.concat(o,i,a,s);function u(e){if(e)for(var n=0;n<c.length;n++)void 0!==e[c[n]]&&this["set"+t(c[n])](e[c[n]])}u.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof u)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new u(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},u.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),s=a[1],c=a[2],l=a[3];return new u({functionName:r,args:o||void 0,fileName:s,lineNumber:c||void 0,columnNumber:l||void 0})};for(var l=0;l<r.length;l++)u.prototype["get"+t(r[l])]=n(r[l]),u.prototype["set"+t(r[l])]=function(e){return function(t){this[e]=Boolean(t)}}(r[l]);for(var f=0;f<o.length;f++)u.prototype["get"+t(o[f])]=n(o[f]),u.prototype["set"+t(o[f])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[f]);for(var d=0;d<i.length;d++)u.prototype["get"+t(i[d])]=n(i[d]),u.prototype["set"+t(i[d])]=function(e){return function(t){this[e]=String(t)}}(i[d]);return u})?n.apply(t,r):n)||(e.exports=o)}()},606:(e,t,n)=>{var r=n(835),o=n(35),i=n(671).C,a=n(860),s=n(737).g;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new f(t):new u(t)}function u(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sources"),a=r.getArg(t,"names",[]),s=r.getArg(t,"sourceRoot",null),c=r.getArg(t,"sourcesContent",null),u=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o=o.map(String).map(r.normalize).map((function(e){return s&&r.isAbsolute(s)&&r.isAbsolute(e)?r.relative(s,e):e})),this._names=i.fromArray(a.map(String),!0),this._sources=i.fromArray(o,!0),this.sourceRoot=s,this.sourcesContent=c,this._mappings=u,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function f(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new i,this._names=new i;var a={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),o=r.getArg(t,"column");if(n<a.line||n===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new c(r.getArg(e,"map"))}}))}c.fromSourceMap=function(e){return u.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var o,i=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:o=this._generatedMappings;break;case c.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;o.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=a&&(t=r.join(a,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},c.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var i=[],a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(a>=0){var s=this._originalMappings[a];if(void 0===e.column)for(var c=s.originalLine;s&&s.originalLine===c;)i.push({line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a];else for(var u=s.originalColumn;s&&s.originalLine===t&&s.originalColumn==u;)i.push({line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a]}return i},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.fromSourceMap=function(e){var t=Object.create(u.prototype),n=t._names=i.fromArray(e._names.toArray(),!0),o=t._sources=i.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),c=t.__generatedMappings=[],f=t.__originalMappings=[],d=0,h=a.length;d<h;d++){var p=a[d],g=new l;g.generatedLine=p.generatedLine,g.generatedColumn=p.generatedColumn,p.source&&(g.source=o.indexOf(p.source),g.originalLine=p.originalLine,g.originalColumn=p.originalColumn,p.name&&(g.name=n.indexOf(p.name)),f.push(g)),c.push(g)}return s(t.__originalMappings,r.compareByOriginalPositions),t},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e}),this)}}),u.prototype._parseMappings=function(e,t){for(var n,o,i,c,u,f=1,d=0,h=0,p=0,g=0,m=0,v=e.length,y=0,w={},b={},k=[],S=[];y<v;)if(";"===e.charAt(y))f++,y++,d=0;else if(","===e.charAt(y))y++;else{for((n=new l).generatedLine=f,c=y;c<v&&!this._charIsMappingSeparator(e,c);c++);if(i=w[o=e.slice(y,c)])y+=o.length;else{for(i=[];y<c;)a.decode(e,y,b),u=b.value,y=b.rest,i.push(u);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");w[o]=i}n.generatedColumn=d+i[0],d=n.generatedColumn,i.length>1&&(n.source=g+i[1],g+=i[1],n.originalLine=h+i[2],h=n.originalLine,n.originalLine+=1,n.originalColumn=p+i[3],p=n.originalColumn,i.length>4&&(n.name=m+i[4],m+=i[4])),S.push(n),"number"==typeof n.originalLine&&k.push(n)}s(S,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,s(k,r.compareByOriginalPositions),this.__originalMappings=k},u.prototype._findMapping=function(e,t,n,r,i,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i,a)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=r.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=r.join(this.sourceRoot,i)));var a=r.getArg(o,"name",null);return null!==a&&(a=this._names.at(a)),{source:i,line:r.getArg(o,"originalLine",null),column:r.getArg(o,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:r.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},f.prototype=Object.create(c.prototype),f.prototype.constructor=c,f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),f.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=o.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},f.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},f.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},f.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},f.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],i=o.consumer._generatedMappings,a=0;a<i.length;a++){var c=i[a],u=o.consumer._sources.at(c.source);null!==o.consumer.sourceRoot&&(u=r.join(o.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var l=o.consumer._names.at(c.name);this._names.add(l),l=this._names.indexOf(l);var f={source:u,generatedLine:c.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(o.generatedOffset.generatedLine===c.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(f),"number"==typeof f.originalLine&&this.__originalMappings.push(f)}s(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),s(this.__originalMappings,r.compareByOriginalPositions)}},671:(e,t,n)=>{var r=n(835),o=Object.prototype.hasOwnProperty;function i(){this._array=[],this._set=Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},i.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=r.toSetString(e),i=o.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(this._set[n]=a)},i.prototype.has=function(e){var t=r.toSetString(e);return o.call(this._set,t)},i.prototype.indexOf=function(e){var t=r.toSetString(e);if(o.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.C=i},737:(e,t)=>{function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,o,i){if(o<i){var a=o-1;n(e,(l=o,f=i,Math.round(l+Math.random()*(f-l))),i);for(var s=e[i],c=o;c<i;c++)t(e[c],s)<=0&&n(e,a+=1,c);n(e,a+1,c);var u=a+1;r(e,t,o,u-1),r(e,t,u+1,i)}var l,f}t.g=function(e,t){r(e,t,0,e.length-1)}},769:(e,t,n)=>{e.exports=n(187)},835:(e,t)=>{t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var a,s=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(a=c[l])?c.splice(l,1):".."===a?u++:u>0&&(""===a?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=s?"/":"."),r?(r.path=n,i(r)):n}t.urlParse=o,t.urlGenerate=i,t.normalize=a,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),s=o(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),i(n);if(n||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,i(s);var c="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=c,i(s)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var s=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=s?c:function(e){return u(e)?"$"+e:e},t.fromSetString=s?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=e.source-t.source)||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=l(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},860:(e,t,n)=>{var r=n(900);t.encode=function(e){var t,n="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),n+=r.encode(t)}while(o>0);return n},t.decode=function(e,t,n){var o,i,a,s,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&i),u+=(i&=31)<<l,l+=5}while(o);n.value=(s=(a=u)>>1,1&~a?s:-s),n.rest=t}},885:function(e,t,n){var r,o,i;!function(){"use strict";o=[n(65),n(343)],void 0===(i="function"==typeof(r=function(e,t){function n(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300||"file://"===e.substr(0,7)&&r.responseText?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()}))}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function o(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function i(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),o="",i=Math.min(t,20),a=0;a<i;++a){var s=r[t-a-1],c=s.indexOf("//");if(c>=0&&(s=s.substr(0,c)),s){o=s+o;for(var u=n.length,l=0;l<u;l++){var f=n[l].exec(o);if(f&&f[1])return f[1]}}}}function a(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function s(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function c(e){for(var t,n,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=r.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}function u(e,n,r){return new Promise((function(o,i){var a=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(a.source){var s=n.sourceContentFor(a.source);s&&(r[a.source]=s),o(new t({functionName:a.name||e.functionName,args:e.args,fileName:a.source,lineNumber:a.line,columnNumber:a.column}))}else i(new Error("Could not get original source for given stackframe and source map"))}))}return function l(f){if(!(this instanceof l))return new l(f);f=f||{},this.sourceCache=f.sourceCache||{},this.sourceMapConsumerCache=f.sourceMapConsumerCache||{},this.ajax=f.ajax||n,this._atob=f.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(f.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var o=/^data:application\/json;([\w=:"-]+;)*base64,/,i=e.match(o);if(i){var a=i[0].length,s=e.substr(a),c=this._atob(s);this.sourceCache[e]=c,t(c)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var u=this.ajax(e,{method:"get"});this.sourceCache[e]=u,u.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(r){if(this.sourceMapConsumerCache[t])r(this.sourceMapConsumerCache[t]);else{var i=new Promise(function(r,i){return this._get(t).then((function(t){"string"==typeof t&&(t=o(t.replace(/^\)\]\}'/,""))),void 0===t.sourceRoot&&(t.sourceRoot=n),r(new e.SourceMapConsumer(t))})).catch(i)}.bind(this));this.sourceMapConsumerCache[t]=i,r(i)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){s(e),this._get(e.fileName).then((function(r){var o=e.lineNumber,a=e.columnNumber,s=i(r,o,a);n(s?new t({functionName:s,args:e.args,fileName:e.fileName,lineNumber:o,columnNumber:a}):e)}),r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(t,n){a(),s(e);var r=this.sourceCache,o=e.fileName;this._get(o).then(function(n){var i=c(n),a="data:"===i.substr(0,5),s=o.substring(0,o.lastIndexOf("/")+1);return"/"===i[0]||a||/^https?:\/\/|^\/\//i.test(i)||(i=s+i),this._getSourceMapConsumer(i,s).then((function(n){return u(e,n,r).then(t).catch((function(){t(e)}))}))}.bind(this),n).catch(n)}.bind(this))}}})?r.apply(t,o):r)||(e.exports=i)}()},887:function(e,t,n){var r,o,i;!function(){"use strict";o=[n(343)],r=function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var o=arguments.callee;o&&n.length<r&&o.arguments;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:i})):n.push(new e({args:i}));try{o=o.caller}catch(e){break}}return n}}},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)}()},900:(e,t)=>{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},945:(e,t,n)=>{var r=n(860),o=n(835),i=n(671).C,a=n(238).P;function s(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new a,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)})),n},s.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var a=this._sourceRoot;null!=a&&(r=o.relative(a,r));var s=new i,c=new i;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=o.join(n,t.source)),null!=a&&(t.source=o.relative(a,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var u=t.source;null==u||s.has(u)||s.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=s,this._names=c,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=a&&(t=o.relative(a,t)),this.setSourceContent(t,r))}),this)},s.prototype._validateMapping=function(e,t,n,r){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},s.prototype._serializeMappings=function(){for(var e,t,n,i,a=0,s=1,c=0,u=0,l=0,f=0,d="",h=this._mappings.toArray(),p=0,g=h.length;p<g;p++){if(e="",(t=h[p]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(p>0){if(!o.compareByGeneratedPositionsInflated(t,h[p-1]))continue;e+=","}e+=r.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=r.encode(i-f),f=i,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),d+=e}return d},s.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=s}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e;!function(e){e[e.CONTINUE=0]="CONTINUE",e[e.STOP=1]="STOP"}(e||(e={}));var t=function(){function t(){this.maxAttempts=10,this.interval=50,this.exponentRate=1.5}return t.run=function(n){var r=Object.assign(new t,n),o=r.onTick,i=r.onError,a=r.onTimeout,s=r.interval,c=r.exponentRate,u=r.maxAttempts,l=function(t){if(void 0===t&&(t=0),function(t){try{return o(t)}catch(t){return i(t instanceof Error?t:new Error("Unknown error occurred")),e.STOP}}(t)!==e.STOP)if(t+1>=u)a();else{var n=s*Math.pow(t+1,c);setTimeout((function(){l(t+1)}),n)}};return l(),r},t.runAsync=function(n){return new Promise((function(r,o){t.run({onTick:function(){var t=n();return t?(r(t),e.STOP):e.CONTINUE},onError:o,onTimeout:function(){r(null)}})}))},t}();function r(){try{return window.location.search.includes("at_cjs_version")||window.location.search.includes("exp_debug")}catch(e){return console.error("Error determining if logs should be displayed:",e),!1}}var o={info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r()&&console.info.apply(console,e)},debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r()&&console.debug.apply(console,e)},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r()&&console.warn.apply(console,e)},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r()&&console.error.apply(console,e)},log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r()&&console.log.apply(console,e)}},i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},c={dbName:"PlayMakerWindowDB",dbVersion:1,storeName:"playmaker"},u=null,l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(void 0,s([],e,!0),void 0,(function(e,t){return void 0===e&&(e=c),void 0===t&&(t=!1),a(this,(function(n){return u&&!t?[2,u]:(u&&t&&(u.close(),u=null),[2,new Promise((function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(e){u=e.target.result,t(u)},r.onerror=function(){n(new Error("Failed to open IndexedDB"))},r.onupgradeneeded=function(t){var n,r=t.target.result;r.objectStoreNames.contains(e.storeName)||r.createObjectStore(e.storeName,{keyPath:null!==(n=e.keyPath)&&void 0!==n?n:"id"}),u=r}}))])}))}))};function f(e){return i(this,arguments,void 0,(function(e,t){var n;return void 0===t&&(t=c),a(this,(function(r){switch(r.label){case 0:return[4,l(t)];case 1:return n=r.sent(),[2,new Promise((function(r,o){var i=n.transaction([t.storeName],"readwrite").objectStore(t.storeName).put(e);i.onsuccess=function(){r(i.result)},i.onerror=function(){o(new Error("Error writing data: "+JSON.stringify(e)))}}))]}}))}))}function d(e){return i(this,arguments,void 0,(function(e,t){var n;return void 0===t&&(t=c),a(this,(function(r){switch(r.label){case 0:return[4,l(t)];case 1:return n=r.sent(),[2,new Promise((function(r,o){var i=n.transaction([t.storeName],"readonly").objectStore(t.storeName).get(e);i.onsuccess=function(){r(i.result)},i.onerror=function(){o(new Error("Error reading data: "+JSON.stringify(e)))}}))]}}))}))}var h=["/ae/en/","/ar/es/","/at/de/","/at/en/","/au/en/","/be/nl/","/be/de/","/be/en/","/be/fr/","/bg/en/","/ca/en/","/ca/fr/","/ch/de/","/ch/en/","/ch/fr/","/ch/it/","/cl/es/","/cn/zh/","/cz/cs/","/cz/en/","/de/de/","/dk/da/","/dk/en/","/eg/en/","/es/es/","/es/ca/","/fi/en/","/fr/fr/","/gb/en/","/gr/el/","/hr/en/","/hu/hu/","/hu/en/","/id/en/","/ie/en/","/il/en/","/in/en/","/it/it/","/jp/ja/","/jp/en/","/kr/ko/","/kr/en/","/lu/fr/","/lu/de/","/lu/en/","/ma/fr/","/ma/en/","/mx/es/","/my/en/","/nl/nl/","/nl/en/","/no/no/","/no/en/","/nz/en/","/ph/en/","/pl/pl/","/pr/es/","/pt/pt/","/pt/en/","/ro/en/","/ru/ru/","/sa/en/","/se/sv/","/se/en/","/sg/en/","/si/en/","/sk/en/","/th/th/","/tr/tr/","/tw/zh/","/us/en/","/us/es/","/uy/es/","/vn/en/","/za/en/","/xl/es/"];function p(){var e,t;if(e=window.location.pathname,"/"===(t=e.endsWith("/")?e:"".concat(e,"/"))||/^\/[a-z]{2}\/?$/.test(t)||h.includes(t))return"homepage";var n,r,o,i,a,s=window.location.href.replace(window.location.origin,""),c=(n=s,r=new Set(h.map((function(e){return e.split("/")[1]}))),o=h.map((function(e){return e.replace(/^\/|\/$/g,"").replace("/","\\/")})).join("|"),i=Array.from(r).join("|"),a=new RegExp("^/(?:".concat(o,"|(").concat(i,"))(?=/|$)"),"i"),n.replace(a,"")||"/"),u=Object.entries({"/t/":"pdp","/t-dark/":"pdp","/u-dark/":"pdp","/u/":"pdp","/w/":"pw","/w-dark/":"pw","/w?q=":"onsite search","/w-dark?q=":"onsite search","/cart":"cart","/checkout":"checkout","/member":"member","/help":"help","/inbox":"inbox","/favorites":"favorites","/size-fit":"sizechart","/retail":"retail","/jordan":"landingpage","/men":"landingpage","/women":"landingpage","/kids":"landingpage"}).find((function(e){var t=e[0];return c.includes(t)}));if(u&&"retail"===u[1]){var l=document.querySelector("article");return(null==l?void 0:l.id)?l.id.replace("-"," "):u[1]}return u?u[1]:null}function g(e,t){return e&&e.length>0?e:t}var m=function(e,t){var n,r,o,i,a,s,c,u,l,f,d,h,p,m,v,y,w=null===(a=null===(i=null===(o=null===(r=null===(n=window.__NEXT_DATA__)||void 0===n?void 0:n.props)||void 0===r?void 0:r.pageProps)||void 0===o?void 0:o.initialState)||void 0===i?void 0:i.Wall)||void 0===a?void 0:a.products,b=w&&w.length>0,k=null===(l=null===(u=null===(c=null===(s=window.__NEXT_DATA__)||void 0===s?void 0:s.props)||void 0===c?void 0:c.pageProps)||void 0===u?void 0:u.navConfig)||void 0===l?void 0:l.pageDetail.toLowerCase();return"pdp"===e?(null==t?void 0:t.includes("-"))?t.substring(0,t.lastIndexOf("-")).replace(/-/g," ").toLowerCase():"no page title":"homepage"===e?g(k,"no page title"):"landing page"===e?void 0!==k&&""!==k?"".concat(k,":land"):"no page title":"onsite search"===e?b?"results found":"no search results":b?g(null===(y=null===(v=null===(m=null===(p=null===(h=null===(d=null===(f=window.__NEXT_DATA__)||void 0===f?void 0:f.props)||void 0===d?void 0:d.pageProps)||void 0===h?void 0:h.initialState)||void 0===p?void 0:p.Wall)||void 0===m?void 0:m.facetNav)||void 0===v?void 0:v.analytics)||void 0===y?void 0:y.legacyPageName.toLowerCase(),"no page title"):"page not found"},v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)},y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)},b=function(e){var t,n,r,o,i,a=p(),s=function(e){var t,n,r,o;switch(e){case"pdp":r=(o=m(e,null===(n=null===(t=window.__NEXT_DATA__)||void 0===t?void 0:t.query)||void 0===n?void 0:n.slug)).toLowerCase();break;case"pw":case"onsite search":o=m(e),r="".concat(e,">").concat(o).toLowerCase();break;case"homepage":case"landing page":r=m(e);break;case"cart":r="cart>view";break;case"checkout":r="checkout>checkout"}return r}(a||""),c=m(a||"",null===(n=null===(t=window.__NEXT_DATA__)||void 0===t?void 0:t.query)||void 0===n?void 0:n.slug),u=function(e){var t;switch(e){case"pw":t="product wall";break;case"help":t="GetHelp";break;default:t=e}return t}(a||""),l=null===(r=window.webShellClient)||void 0===r?void 0:r.locale.get().currency,f=function(e){return v({domain:"www.nike.com",backendPlatform:"cloud"},e&&{name:e})}(u),d=function(e,t,n){return y(y(y({experienceType:"nikecom"},e&&{pageName:"nikecom>".concat(e)}),e&&{pageDetail:null!=n?n:e}),t&&{pageType:t})}(s,a||"",c),h=function(e){return{language:g(null==e?void 0:e.language,"en"),country:g(null==e?void 0:e.country,"us")}}(null===(o=window.webShellClient)||void 0===o?void 0:o.locale.get());return w(w({app:e?w(w({},f),{version:e}):f,view:d},l&&{currency:l}),{language:g(null===(i=window.webShellClient)||void 0===i?void 0:i.locale.get().langRegion,"en_US"),locale:h})},k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)},S=function(){function e(e,t,n){this.version=e,this.prefix=t,this.track=n}return e.prototype.trackEvent=function(e,t){var n=b(this.version),r=k(k({},n),t);this.track(function(e,t){return"".concat(e," ").concat(t)}(this.prefix,e),r)},e}(),N=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},T=(function(){function e(){}e.create=function(e,n,r){return N(this,void 0,void 0,(function(){var i;return O(this,(function(a){switch(a.label){case 0:return r?[3,2]:[4,t.runAsync((function(){return window.webShellClient.analytics.track?function(e,t){window.webShellClient.analytics.track(e,null!=t?t:{},{writeKey:"2iv4Qa7rFEipAs4iE850BkBpTYQvlAFZ"})}:null}))];case 1:return(i=a.sent())?[2,new S(e,n,i)]:[2,new S(e,n,(function(t,n){o.debug("[TRACK] [".concat(e,"] [").concat(t,"]"),n)}))];case 2:return[2,new S(e,n,r)]}}))}))}}(),n(139)),E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E.apply(this,arguments)};function _(e,t){var n;return(n={})["".concat(e.toLowerCase(),"_version")]=t,n}var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},I.apply(this,arguments)},A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},j=function(){function e(e,t){this.config=e,this.loggerHandler=t,this.getStackTrace=function(e){return"FILE: ".concat(String(e[0].fileName)," LINE: ").concat(String(e[0].lineNumber)," Column: ").concat(String(e[0].columnNumber)," FUNCTION: ").concat(String(e[0].functionName))}}return e.prototype.getReporterParams=function(){return[this.config,this.loggerHandler]},e.prototype.debug=function(e,t,n){return A(this,void 0,void 0,(function(){var r,i,a,s;return C(this,(function(c){switch(c.label){case 0:return n instanceof Error?[4,T.fromError(n)]:[3,2];case 1:a=c.sent(),n={errorMessage:n.message||"Unknown error message",errorStack:this.getStackTrace(a)},c.label=2;case 2:return(null==n?void 0:n.error)?(r=n.error,i=x(n,["error"]),r instanceof Error?[4,T.fromError(r)]:[3,4]):[3,4];case 3:a=c.sent(),n=I(I({},i),{errorMessage:r.message||"Unknown error message",errorStack:this.getStackTrace(a)}),c.label=4;case 4:return s=I(I({severity:e,logMessage:t},n),function(e,t){var n,r=_(e,t);return(null===(n=window.experimentation)||void 0===n?void 0:n.platformsVersions)&&Array.isArray(window.experimentation.platformsVersions)?window.experimentation.platformsVersions.reduce((function(e,t){var n=t.platform,r=t.version;return E(E({},e),_(n,r))}),r):r}(this.config.platform,this.config.version)),o[e](this.config.platform,s),this.loggerHandler(this.config.platform,s),[2]}}))}))},e.prototype.info=function(e,t){this.debug("info",e,t)},e.prototype.error=function(e,t){this.debug("error",e,t)},e.prototype.log=function(e,t){this.debug("log",e,t)},e.prototype.warn=function(e,t){this.debug("warn",e,t)},e}(),P=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},L=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function D(e){return P(this,void 0,void 0,(function(){return L(this,(function(n){var r,o;return r=e.platform,o=e.version,window.experimentation||(window.experimentation={}),window.experimentation.platformsVersions||(window.experimentation.platformsVersions=[]),window.experimentation.platformsVersions.push({platform:r,version:o}),[2,t.runAsync((function(){if(window.newrelic.addPageAction)return new j(e,window.newrelic.addPageAction)}))]}))}))}var F=function(){function e(e,t){this.cb=e,this.options=t}return e.prototype.shouldUpdate=function(e){var t=new window.URL(e),n=!0;return this.options.onlyIfPathIncludes&&this.options.onlyIfPathIncludes.length>0&&(n=this.options.onlyIfPathIncludes.some((function(e){return e.test(t.pathname)}))),this.options.onlyIfPathDoesntInclude&&this.options.onlyIfPathDoesntInclude.length>0&&(n=!this.options.onlyIfPathDoesntInclude.some((function(e){return e.test(t.pathname)}))),n},e.prototype.update=function(e){this.shouldUpdate(e)&&this.cb(e)},e}();!function(){function e(){this.listeners=[],this.currentHref=window.location.href}e.prototype.updateListeners=function(){for(var e=0,t=this.listeners;e<t.length;e++){t[e].update(this.currentHref)}},e.prototype.reset=function(){this.interval&&clearInterval(this.interval),this.listeners=[]},e.prototype.addListener=function(e,t){void 0===t&&(t={});var n=new F(e,t);t.immediate&&n.update(this.currentHref),this.listeners.push(n),this.startListening()},e.prototype.startListening=function(){var e=this;this.listeners.length>0&&("NavigateEvent"in window?window.addEventListener("navigate",(function(){e.currentHref=window.location.href,e.updateListeners()})):this.interval=setInterval((function(){window.location.href!=e.currentHref&&(e.currentHref=window.location.href,e.updateListeners())}),1))}}();const U=JSON.parse('{"name":"@nike/universal-holdout","version":"1.9.2","main":"dist/index.js","types":"dist/index.d.ts","files":["dist"],"publishConfig":{"registry":" https://artifactory.nike.com/artifactory/api/npm/npm-nike"},"scripts":{"build":"tsc -p tsconfig.build.json","init":"npm install && npm run prepare","lint":"eslint --fix . && prettier --write .","test:watch":"jest --watch","test":"jest --coverage","type":"tsc --noEmit","prepare":"husky","release":"./bin/release/run-release.sh"},"lint-staged":{"./src/*":["npm run lint"]},"devDependencies":{"@babel/core":"^7.22.20","@babel/preset-env":"^7.22.20","@babel/preset-typescript":"^7.22.15","@commitlint/cli":"^19.4.0","@commitlint/config-conventional":"^19.2.2","@eslint/js":"^9.9.0","@release-it/conventional-changelog":"^10.0.1","@types/eslint__js":"^9.14.0","@types/jest":"^29.5.11","@types/murmurhash3js":"^3.0.7","@types/node":"^20.10.0","babel-loader":"^9.1.3","eslint":"^9.9.0","husky":"^9.1.7","jest":"^29.7.0","jest-environment-jsdom":"^29.7.0","jest-fixed-jsdom":"^0.0.9","jest-junit":"^16.0.0","lint-staged":"^15.2.10","msw":"^2.7.1","prettier":"^3.2.5","release-it":"^19.0.2","ts-jest":"^29.1.1","ts-loader":"^9.4.4","typescript":"^5.3.3","typescript-eslint":"^8.21.0","validate-branch-name":"^1.3.2"},"dependencies":{"@nike/experimentation-analytics":"^1.5.1","@nike/experimentation-utils":"^1.10.1","murmurhash3js":"^3.0.1","node-fetch":"^3.3.2"}}');var M,B="UNIVERSAL_HOLDOUT",R={dbName:"uh-local",dbVersion:1,storeName:"current_config"},$=["landingpage_abovethefoldLayout","landingpage_layout","pdp_promoBannerLayout","pdp_promoMessageLayout"],J=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},G=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},V=function(){return J(void 0,void 0,void 0,(function(){return G(this,(function(e){switch(e.label){case 0:return M?[2,M]:[4,D({version:null==U?void 0:U.version,platform:B})];case 1:return[2,(M=e.sent())||void 0]}}))}))},z=n(769),q=Math.pow(2,32);const H=fetch;var W=n.n(H),X=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Z=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Y=function(){function e(){}return e.prototype.fetch=function(e,t){return X(this,void 0,void 0,(function(){return Z(this,(function(n){return[2,W()(e,t)]}))}))},e}(),K=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Q=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ee=function(){function e(){}return e.prototype.fetch=function(e,t){return K(this,void 0,void 0,(function(){return Q(this,(function(n){return[2,fetch(e,t)]}))}))},e}();var te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ne=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},re=function(e){return te(void 0,void 0,void 0,(function(){var t;return ne(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,("undefined"!=typeof window?new ee:new Y).fetch("".concat("https://www.nike.com","/").concat("static/experience/experimentation-eng/universal-holdout/config.json"))];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()];case 3:return t=n.sent(),null==e||e.error("Error fetching holdout config",t),[3,4];case 4:return[2]}}))}))},oe=function(e,t){return te(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,c;return ne(this,(function(u){switch(u.label){case 0:n=36e5,r={holdoutGroups:[]},u.label=1;case 1:return u.trys.push([1,6,,7]),[4,d(e,R)];case 2:return o=u.sent(),i=(new Date).getTime(),a=o?i-o.lastUpdatedTimeStamp:1/0,!o||a>n?[4,re()]:[3,5];case 3:return(s=u.sent())?[4,f({id:e,lastUpdatedTimeStamp:i,configValue:s},R)]:[2,r];case 4:return u.sent(),[2,s];case 5:return[2,(null==o?void 0:o.configValue)||r];case 6:return c=u.sent(),null==t||t.error("Error getting holdout rules:",c),[2,r];case 7:return[2]}}))}))};class ie{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const n=this.getType().runtime.bin,r=n.makeReadOptions(t);return n.readMessage(this,r.readerFactory(e),e.byteLength,r),this}fromJson(e,t){const n=this.getType(),r=n.runtime.json,o=r.makeReadOptions(t);return r.readMessage(n,e,o,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(e){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${e instanceof Error?e.message:String(e)}`)}return this.fromJson(n,t)}toBinary(e){const t=this.getType().runtime.bin,n=t.makeWriteOptions(e),r=n.writerFactory();return t.writeMessage(this,r,n),r.finish()}toJson(e){const t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}toJsonString(e){var t;const n=this.toJson(e);return JSON.stringify(n,null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function ae(e,t){if(!e)throw new Error(t)}function se(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function ce(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function ue(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}const le=Symbol("@bufbuild/protobuf/enum-type");function fe(e){const t=e[le];return ae(t,"missing enum type on enum object"),t}function de(e,t,n,r){e[le]=he(t,n.map((t=>({no:t.no,name:t.name,localName:e[t.no]}))),r)}function he(e,t,n){const r=Object.create(null),o=Object.create(null),i=[];for(const e of t){const t=ge(e);i.push(t),r[e.name]=t,o[e.no]=t}return{typeName:e,values:i,findName:e=>r[e],findNumber:e=>o[e]}}function pe(e,t,n){const r={};for(const e of t){const t=ge(e);r[t.localName]=t.no,r[t.no]=t.localName}return de(r,e,t,n),r}function ge(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}function me(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function ve(e,t,n){for(let r=0;r<28;r+=7){const o=e>>>r,i=!(o>>>7==0&&0==t),a=255&(i?128|o:o);if(n.push(a),!i)return}const r=e>>>28&15|(7&t)<<4,o=!!(t>>3);if(n.push(255&(o?128|r:r)),o){for(let e=3;e<31;e+=7){const r=t>>>e,o=!(r>>>7==0),i=255&(o?128|r:r);if(n.push(i),!o)return}n.push(t>>>31&1)}}const ye=4294967296;function we(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let r=0,o=0;function i(t,i){const a=Number(e.slice(t,i));o*=n,r=r*n+a,r>=ye&&(o+=r/ye|0,r%=ye)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?Se(r,o):ke(r,o)}function be(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(ye*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let o=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,a=2*r;const s=1e7;return o>=s&&(i+=Math.floor(o/s),o%=s),i>=s&&(a+=Math.floor(i/s),i%=s),a.toString()+Ne(i)+Ne(o)}function ke(e,t){return{lo:0|e,hi:0|t}}function Se(e,t){return t=~t,e?e=1+~e:t+=1,ke(e,t)}const Ne=e=>{const t=String(e);return"0000000".slice(t.length)+t};function Oe(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function Te(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const Ee=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw new Error(`int64 invalid: ${e}`);return r},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>o||t<r)throw new Error(`uint64 invalid: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}const t=e=>ae(/^-?[0-9]+$/.test(e),`int64 invalid: ${e}`),n=e=>ae(/^[0-9]+$/.test(e),`uint64 invalid: ${e}`);return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),we(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),n(e),we(e)),dec:(e,t)=>function(e,t){let n=ke(e,t);const r=2147483648&n.hi;r&&(n=Se(n.lo,n.hi));const o=be(n.lo,n.hi);return r?"-"+o:o}(e,t),uDec:(e,t)=>be(e,t)}}();var _e,Ie;function Ae(e,t,n){if(t===n)return!0;if(e==_e.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array))return!1;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case _e.UINT64:case _e.FIXED64:case _e.INT64:case _e.SFIXED64:case _e.SINT64:return t==n}return!1}function Ce(e,t){switch(e){case _e.BOOL:return!1;case _e.UINT64:case _e.FIXED64:case _e.INT64:case _e.SFIXED64:case _e.SINT64:return 0==t?Ee.zero:"0";case _e.DOUBLE:case _e.FLOAT:return 0;case _e.BYTES:return new Uint8Array(0);case _e.STRING:return"";default:return 0}}function xe(e,t){switch(e){case _e.BOOL:return!1===t;case _e.STRING:return""===t;case _e.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}}function je(e){const t=e.field.localName,n=Object.create(null);return n[t]=function(e){const t=e.field;if(t.repeated)return[];if(void 0!==t.default)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Ce(t.T,t.L);case"message":const e=t.T,n=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(_e||(_e={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"}(Ie||(Ie={}));let Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Le=[];for(let e=0;e<Pe.length;e++)Le[Pe[e].charCodeAt(0)]=e;Le["-".charCodeAt(0)]=Pe.indexOf("+"),Le["_".charCodeAt(0)]=Pe.indexOf("/");const De={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),o=0,i=0,a=0;for(let t=0;t<e.length;t++){if(n=Le[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":i=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=n,i=1;break;case 1:r[o++]=a<<2|(48&n)>>4,a=n,i=2;break;case 2:r[o++]=(15&a)<<4|(60&n)>>2,a=n,i=3;break;case 3:r[o++]=(3&a)<<6|n,i=0}}if(1==i)throw Error("invalid base64 string.");return r.subarray(0,o)},enc(e){let t,n="",r=0,o=0;for(let i=0;i<e.length;i++)switch(t=e[i],r){case 0:n+=Pe[t>>2],o=(3&t)<<4,r=1;break;case 1:n+=Pe[o|t>>4],o=(15&t)<<2,r=2;break;case 2:n+=Pe[o|t>>6],n+=Pe[63&t],r=0}return r&&(n+=Pe[o],n+="=",1==r&&(n+="=")),n}};function Fe(e,t,n){Be(t,e);const r=t.runtime.bin.makeReadOptions(n),o=function(e,t){if(!t.repeated&&("enum"==t.kind||"scalar"==t.kind)){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter((e=>e.no===t.no))}(e.getType().runtime.bin.listUnknownFields(e),t.field),[i,a]=je(t);for(const e of o)t.runtime.bin.readField(i,r.readerFactory(e.data),t.field,e.wireType,r);return a()}function Ue(e,t,n,r){Be(t,e);const o=t.runtime.bin.makeReadOptions(r),i=t.runtime.bin.makeWriteOptions(r);if(Me(e,t)){const n=e.getType().runtime.bin.listUnknownFields(e).filter((e=>e.no!=t.field.no));e.getType().runtime.bin.discardUnknownFields(e);for(const t of n)e.getType().runtime.bin.onUnknownField(e,t.no,t.wireType,t.data)}const a=i.writerFactory();let s=t.field;s.opt||s.repeated||"enum"!=s.kind&&"scalar"!=s.kind||(s=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(s,n,a,i);const c=o.readerFactory(a.finish());for(;c.pos<c.len;){const[t,n]=c.tag(),r=c.skip(n,t);e.getType().runtime.bin.onUnknownField(e,t,n,r)}}function Me(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find((e=>e.no==t.field.no))}function Be(e,t){ae(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function Re(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?void 0!==t[n]:"enum"==e.kind?t[n]!==e.T.values[0].no:!xe(e.T,t[n]);case"message":return void 0!==t[n];case"map":return Object.keys(t[n]).length>0}}function $e(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?Ce(e.T,e.L):void 0;break;case"message":t[n]=void 0}}function Je(e,t){if(null===e||"object"!=typeof e)return!1;if(!Object.getOwnPropertyNames(ie.prototype).every((t=>t in e&&"function"==typeof e[t])))return!1;const n=e.getType();return null!==n&&"function"==typeof n&&"typeName"in n&&"string"==typeof n.typeName&&(void 0===t||n.typeName==t.typeName)}function Ge(e,t){return Je(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}_e.DOUBLE,_e.FLOAT,_e.INT64,_e.UINT64,_e.INT32,_e.UINT32,_e.BOOL,_e.STRING,_e.BYTES;const Ve={ignoreUnknownFields:!1},ze={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function qe(e){return e?Object.assign(Object.assign({},Ve),e):Ve}function He(e){return e?Object.assign(Object.assign({},ze),e):ze}const We=Symbol(),Xe=Symbol();function Ze(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function Ye(e,t,n,r,o){let i=n.localName;if(n.repeated){if(ae("map"!=n.kind),null===t)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: ${Ze(t)}`);const a=e[i];for(const e of t){if(null===e)throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: ${Ze(e)}`);switch(n.kind){case"message":a.push(n.T.fromJson(e,r));break;case"enum":const t=et(n.T,e,r.ignoreUnknownFields,!0);t!==Xe&&a.push(t);break;case"scalar":try{a.push(Qe(n.T,e,n.L,!0))}catch(t){let r=`cannot decode field ${o.typeName}.${n.name} from JSON: ${Ze(e)}`;throw t instanceof Error&&t.message.length>0&&(r+=`: ${t.message}`),new Error(r)}}}}else if("map"==n.kind){if(null===t)return;if("object"!=typeof t||Array.isArray(t))throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: ${Ze(t)}`);const a=e[i];for(const[e,i]of Object.entries(t)){if(null===i)throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: map value null`);let s;try{s=Ke(n.K,e)}catch(e){let r=`cannot decode map key for field ${o.typeName}.${n.name} from JSON: ${Ze(t)}`;throw e instanceof Error&&e.message.length>0&&(r+=`: ${e.message}`),new Error(r)}switch(n.V.kind){case"message":a[s]=n.V.T.fromJson(i,r);break;case"enum":const e=et(n.V.T,i,r.ignoreUnknownFields,!0);e!==Xe&&(a[s]=e);break;case"scalar":try{a[s]=Qe(n.V.T,i,Ie.BIGINT,!0)}catch(e){let r=`cannot decode map value for field ${o.typeName}.${n.name} from JSON: ${Ze(t)}`;throw e instanceof Error&&e.message.length>0&&(r+=`: ${e.message}`),new Error(r)}}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:i},i="value"),n.kind){case"message":const a=n.T;if(null===t&&"google.protobuf.Value"!=a.typeName)return;let s=e[i];Je(s)?s.fromJson(t,r):(e[i]=s=a.fromJson(t,r),a.fieldWrapper&&!n.oneof&&(e[i]=a.fieldWrapper.unwrapField(s)));break;case"enum":const c=et(n.T,t,r.ignoreUnknownFields,!1);switch(c){case We:$e(n,e);break;case Xe:break;default:e[i]=c}break;case"scalar":try{const r=Qe(n.T,t,n.L,!1);if(r===We)$e(n,e);else e[i]=r}catch(e){let r=`cannot decode field ${o.typeName}.${n.name} from JSON: ${Ze(t)}`;throw e instanceof Error&&e.message.length>0&&(r+=`: ${e.message}`),new Error(r)}}}function Ke(e,t){if(e===_e.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1}return Qe(e,t,Ie.BIGINT,!0).toString()}function Qe(e,t,n,r){if(null===t)return r?Ce(e,n):We;switch(e){case _e.DOUBLE:case _e.FLOAT:if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t)break;if("string"==typeof t&&t.trim().length!==t.length)break;if("string"!=typeof t&&"number"!=typeof t)break;const r=Number(t);if(Number.isNaN(r))break;if(!Number.isFinite(r))break;return e==_e.FLOAT&&ue(r),r;case _e.INT32:case _e.FIXED32:case _e.SFIXED32:case _e.SINT32:case _e.UINT32:let o;if("number"==typeof t?o=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(o=Number(t)),void 0===o)break;return e==_e.UINT32||e==_e.FIXED32?ce(o):se(o),o;case _e.INT64:case _e.SFIXED64:case _e.SINT64:if("number"!=typeof t&&"string"!=typeof t)break;const i=Ee.parse(t);return n?i.toString():i;case _e.FIXED64:case _e.UINT64:if("number"!=typeof t&&"string"!=typeof t)break;const a=Ee.uParse(t);return n?a.toString():a;case _e.BOOL:if("boolean"!=typeof t)break;return t;case _e.STRING:if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw new Error("invalid UTF8")}return t;case _e.BYTES:if(""===t)return new Uint8Array(0);if("string"!=typeof t)break;return De.dec(t)}throw new Error}function et(e,t,n,r){if(null===t)return"google.protobuf.NullValue"==e.typeName?0:r?e.values[0].no:We;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(void 0!==r)return r.no;if(n)return Xe}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${Ze(t)}`)}function tt(e){return!(!e.repeated&&"map"!=e.kind)||!e.oneof&&("message"!=e.kind&&(!e.opt&&!e.req))}function nt(e,t,n){if("map"==e.kind){ae("object"==typeof t&&null!=t);const r={},o=Object.entries(t);switch(e.V.kind){case"scalar":for(const[t,n]of o)r[t.toString()]=ot(e.V.T,n);break;case"message":for(const[e,t]of o)r[e.toString()]=t.toJson(n);break;case"enum":const t=e.V.T;for(const[e,i]of o)r[e.toString()]=rt(t,i,n.enumAsInteger)}return n.emitDefaultValues||o.length>0?r:void 0}if(e.repeated){ae(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++)r.push(ot(e.T,t[n]));break;case"enum":for(let o=0;o<t.length;o++)r.push(rt(e.T,t[o],n.enumAsInteger));break;case"message":for(let e=0;e<t.length;e++)r.push(t[e].toJson(n))}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return ot(e.T,t);case"enum":return rt(e.T,t,n.enumAsInteger);case"message":return Ge(e.T,t).toJson(n)}}function rt(e,t,n){var r;if(ae("number"==typeof t),"google.protobuf.NullValue"==e.typeName)return null;if(n)return t;const o=e.findNumber(t);return null!==(r=null==o?void 0:o.name)&&void 0!==r?r:t}function ot(e,t){switch(e){case _e.INT32:case _e.SFIXED32:case _e.SINT32:case _e.FIXED32:case _e.UINT32:return ae("number"==typeof t),t;case _e.FLOAT:case _e.DOUBLE:return ae("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case _e.STRING:return ae("string"==typeof t),t;case _e.BOOL:return ae("boolean"==typeof t),t;case _e.UINT64:case _e.FIXED64:case _e.INT64:case _e.SFIXED64:case _e.SINT64:return ae("bigint"==typeof t||"string"==typeof t||"number"==typeof t),t.toString();case _e.BYTES:return ae(t instanceof Uint8Array),De.enc(t)}}var it;!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(it||(it={}));class at{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(ce(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return se(e),Oe(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){ue(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){ce(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){se(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return se(e),Oe(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=Ee.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=Ee.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=Ee.enc(e);return ve(t.lo,t.hi,this.buf),this}sint64(e){let t=Ee.enc(e),n=t.hi>>31;return ve(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=Ee.uEnc(e);return ve(t.lo,t.hi,this.buf),this}}class st{constructor(e,t){this.varint64=me,this.uint32=Te,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case it.Varint:for(;128&this.buf[this.pos++];);break;case it.Bit64:this.pos+=4;case it.Bit32:this.pos+=4;break;case it.LengthDelimited:let n=this.uint32();this.pos+=n;break;case it.StartGroup:for(;;){const[e,n]=this.tag();if(n===it.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return Ee.dec(...this.varint64())}uint64(){return Ee.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,Ee.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ee.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ee.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}const ct=Symbol("@bufbuild/protobuf/unknown-fields"),ut={readUnknownFields:!0,readerFactory:e=>new st(e)},lt={writeUnknownFields:!0,writerFactory:()=>new at};function ft(e){return e?Object.assign(Object.assign({},ut),e):ut}function dt(e){return e?Object.assign(Object.assign({},lt),e):lt}function ht(e,t,n,r,o){let{repeated:i,localName:a}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=a&&delete e.value,e.case=a,a="value"),n.kind){case"scalar":case"enum":const s="enum"==n.kind?_e.INT32:n.T;let c=mt;if("scalar"==n.kind&&n.L>0&&(c=gt),i){let n=e[a];if(r==it.LengthDelimited&&s!=_e.STRING&&s!=_e.BYTES){let e=t.uint32()+t.pos;for(;t.pos<e;)n.push(c(t,s))}else n.push(c(t,s))}else e[a]=c(t,s);break;case"message":const u=n.T;i?e[a].push(pt(t,new u,o,n)):Je(e[a])?pt(t,e[a],o,n):(e[a]=pt(t,new u,o,n),!u.fieldWrapper||n.oneof||n.repeated||(e[a]=u.fieldWrapper.unwrapField(e[a])));break;case"map":let[l,f]=function(e,t,n){const r=t.uint32(),o=t.pos+r;let i,a;for(;t.pos<o;){const[r]=t.tag();switch(r){case 1:i=mt(t,e.K);break;case 2:switch(e.V.kind){case"scalar":a=mt(t,e.V.T);break;case"enum":a=t.int32();break;case"message":a=pt(t,new e.V.T,n,void 0)}}}void 0===i&&(i=Ce(e.K,Ie.BIGINT));"string"!=typeof i&&"number"!=typeof i&&(i=i.toString());if(void 0===a)switch(e.V.kind){case"scalar":a=Ce(e.V.T,Ie.BIGINT);break;case"enum":a=e.V.T.values[0].no;break;case"message":a=new e.V.T}return[i,a]}(n,t,o);e[a][l]=f}}function pt(e,t,n,r){const o=t.getType().runtime.bin,i=null==r?void 0:r.delimited;return o.readMessage(t,e,i?r.no:e.uint32(),n,i),t}function gt(e,t){const n=mt(e,t);return"bigint"==typeof n?n.toString():n}function mt(e,t){switch(t){case _e.STRING:return e.string();case _e.BOOL:return e.bool();case _e.DOUBLE:return e.double();case _e.FLOAT:return e.float();case _e.INT32:return e.int32();case _e.INT64:return e.int64();case _e.UINT64:return e.uint64();case _e.FIXED64:return e.fixed64();case _e.BYTES:return e.bytes();case _e.FIXED32:return e.fixed32();case _e.SFIXED32:return e.sfixed32();case _e.SFIXED64:return e.sfixed64();case _e.SINT64:return e.sint64();case _e.UINT32:return e.uint32();case _e.SINT32:return e.sint32()}}function vt(e,t,n,r){ae(void 0!==t);const o=e.repeated;switch(e.kind){case"scalar":case"enum":let i="enum"==e.kind?_e.INT32:e.T;if(o)if(ae(Array.isArray(t)),e.packed)!function(e,t,n,r){if(!r.length)return;e.tag(n,it.LengthDelimited).fork();let[,o]=kt(t);for(let t=0;t<r.length;t++)e[o](r[t]);e.join()}(n,i,e.no,t);else for(const r of t)bt(n,i,e.no,r);else bt(n,i,e.no,t);break;case"message":if(o){ae(Array.isArray(t));for(const o of t)wt(n,r,e,o)}else wt(n,r,e,t);break;case"map":ae("object"==typeof t&&null!=t);for(const[o,i]of Object.entries(t))yt(n,r,e,o,i)}}function yt(e,t,n,r,o){e.tag(n.no,it.LengthDelimited),e.fork();let i=r;switch(n.K){case _e.INT32:case _e.FIXED32:case _e.UINT32:case _e.SFIXED32:case _e.SINT32:i=Number.parseInt(r);break;case _e.BOOL:ae("true"==r||"false"==r),i="true"==r}switch(bt(e,n.K,1,i),n.V.kind){case"scalar":bt(e,n.V.T,2,o);break;case"enum":bt(e,_e.INT32,2,o);break;case"message":ae(void 0!==o),e.tag(2,it.LengthDelimited).bytes(o.toBinary(t))}e.join()}function wt(e,t,n,r){const o=Ge(n.T,r);n.delimited?e.tag(n.no,it.StartGroup).raw(o.toBinary(t)).tag(n.no,it.EndGroup):e.tag(n.no,it.LengthDelimited).bytes(o.toBinary(t))}function bt(e,t,n,r){ae(void 0!==r);let[o,i]=kt(t);e.tag(n,o)[i](r)}function kt(e){let t=it.Varint;switch(e){case _e.BYTES:case _e.STRING:t=it.LengthDelimited;break;case _e.DOUBLE:case _e.FIXED64:case _e.SFIXED64:t=it.Bit64;break;case _e.FIXED32:case _e.SFIXED32:case _e.FLOAT:t=it.Bit32}return[t,_e[e].toLowerCase()]}function St(e){if(void 0===e)return e;if(Je(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Nt(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class Ot{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const e={};for(const t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){const e={};for(const t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort(((e,t)=>e.no-t.no))),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}}function Tt(e,t){const n=It(e);return t?n:Pt(jt(n))}function Et(e){return Tt(e,!1)}const _t=It;function It(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let o=e.charAt(r);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),n.push(o)}}return n.join("")}new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]);const At=new Set(["constructor","toString","toJSON","valueOf"]),Ct=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),xt=e=>`${e}$`,jt=e=>Ct.has(e)?xt(e):e,Pt=e=>At.has(e)?xt(e):e;class Lt{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Et(e)}addField(e){ae(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}const Dt=(Ft=e=>new Ot(e,(e=>function(e,t){var n,r,o,i,a,s;const c=[];let u;for(const l of"function"==typeof e?e():e){const e=l;if(e.localName=Tt(l.name,void 0!==l.oneof),e.jsonName=null!==(n=l.jsonName)&&void 0!==n?n:_t(l.name),e.repeated=null!==(r=l.repeated)&&void 0!==r&&r,"scalar"==l.kind&&(e.L=null!==(o=l.L)&&void 0!==o?o:Ie.BIGINT),e.delimited=null!==(i=l.delimited)&&void 0!==i&&i,e.req=null!==(a=l.req)&&void 0!==a&&a,e.opt=null!==(s=l.opt)&&void 0!==s&&s,void 0===l.packed&&(e.packed=!!t&&("enum"==l.kind||"scalar"==l.kind&&l.T!=_e.BYTES&&l.T!=_e.STRING)),void 0!==l.oneof){const t="string"==typeof l.oneof?l.oneof:l.oneof.name;u&&u.name==t||(u=new Lt(t)),e.oneof=u,u.addField(e)}c.push(e)}return c}(e,!0))),Ut=e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated)r[n]=[];else switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=Ce(t.T,t.L)}}},{syntax:"proto3",json:{makeReadOptions:qe,makeWriteOptions:He,readMessage(e,t,n,r){if(null==t||Array.isArray(t)||"object"!=typeof t)throw new Error(`cannot decode message ${e.typeName} from JSON: ${Ze(t)}`);r=null!=r?r:new e;const o=new Map,i=n.typeRegistry;for(const[a,s]of Object.entries(t)){const t=e.fields.findJsonName(a);if(t){if(t.oneof){if(null===s&&"scalar"==t.kind)continue;const n=o.get(t.oneof);if(void 0!==n)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${t.oneof.name}" present: "${n}", "${a}"`);o.set(t.oneof,a)}Ye(r,s,t,n,e)}else{let t=!1;if((null==i?void 0:i.findExtension)&&a.startsWith("[")&&a.endsWith("]")){const o=i.findExtension(a.substring(1,a.length-1));if(o&&o.extendee.typeName==e.typeName){t=!0;const[e,i]=je(o);Ye(e,s,o.field,n,o),Ue(r,o,i(),n)}}if(!t&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${a}" is unknown`)}}return r},writeMessage(e,t){const n=e.getType(),r={};let o;try{for(o of n.fields.byNumber()){if(!Re(o,e)){if(o.req)throw"required field not set";if(!t.emitDefaultValues)continue;if(!tt(o))continue}const n=nt(o,o.oneof?e[o.oneof.localName].value:e[o.localName],t);void 0!==n&&(r[t.useProtoFieldName?o.name:o.jsonName]=n)}const i=t.typeRegistry;if(null==i?void 0:i.findExtensionFor)for(const o of n.runtime.bin.listUnknownFields(e)){const a=i.findExtensionFor(n.typeName,o.no);if(a&&Me(e,a)){const n=Fe(e,a,t),o=nt(a.field,n,t);void 0!==o&&(r[a.field.jsonName]=o)}}}catch(e){const t=o?`cannot encode field ${n.typeName}.${o.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,r=e instanceof Error?e.message:String(e);throw new Error(t+(r.length>0?`: ${r}`:""))}return r},readScalar:(e,t,n)=>Qe(e,t,null!=n?n:Ie.BIGINT,!0),writeScalar(e,t,n){if(void 0!==t)return n||xe(e,t)?ot(e,t):void 0},debug:Ze},bin:{makeReadOptions:ft,makeWriteOptions:dt,listUnknownFields(e){var t;return null!==(t=e[ct])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[ct]},writeUnknownFields(e,t){const n=e[ct];if(n)for(const e of n)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,n,r){const o=e;Array.isArray(o[ct])||(o[ct]=[]),o[ct].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,o){const i=e.getType(),a=o?t.len:t.pos+n;let s,c;for(;t.pos<a&&([s,c]=t.tag(),!0!==o||c!=it.EndGroup);){const n=i.fields.find(s);if(n)ht(e,t,n,c,r);else{const n=t.skip(c,s);r.readUnknownFields&&this.onUnknownField(e,s,c,n)}}if(o&&(c!=it.EndGroup||s!==n))throw new Error("invalid end group tag")},readField:ht,writeMessage(e,t,n){const r=e.getType();for(const o of r.fields.byNumber())if(Re(o,e))vt(o,o.oneof?e[o.oneof.localName].value:e[o.localName],t,n);else if(o.req)throw new Error(`cannot encode field ${r.typeName}.${o.name} to binary: required field not set`);return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,r){void 0!==t&&vt(e,t,n,r)}},util:Object.assign(Object.assign({},{setEnumType:de,initPartial(e,t){if(void 0===e)return;const n=t.getType();for(const r of n.fields.byMember()){const n=r.localName,o=t,i=e;if(null!=i[n])switch(r.kind){case"oneof":const e=i[n].case;if(void 0===e)continue;const t=r.findField(e);let a=i[n].value;t&&"message"==t.kind&&!Je(a,t.T)?a=new t.T(a):t&&"scalar"===t.kind&&t.T===_e.BYTES&&(a=Nt(a)),o[n]={case:e,value:a};break;case"scalar":case"enum":let s=i[n];r.T===_e.BYTES&&(s=r.repeated?s.map(Nt):Nt(s)),o[n]=s;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===_e.BYTES)for(const[e,t]of Object.entries(i[n]))o[n][e]=Nt(t);else Object.assign(o[n],i[n]);break;case"message":const e=r.V.T;for(const t of Object.keys(i[n])){let r=i[n][t];e.fieldWrapper||(r=new e(r)),o[n][t]=r}}break;case"message":const c=r.T;if(r.repeated)o[n]=i[n].map((e=>Je(e,c)?e:new c(e)));else{const e=i[n];c.fieldWrapper?"google.protobuf.BytesValue"===c.typeName?o[n]=Nt(e):o[n]=e:o[n]=Je(e,c)?e:new c(e)}}}},equals:(e,t,n)=>t===n||!(!t||!n)&&e.fields.byMember().every((e=>{const r=t[e.localName],o=n[e.localName];if(e.repeated){if(r.length!==o.length)return!1;switch(e.kind){case"message":return r.every(((t,n)=>e.T.equals(t,o[n])));case"scalar":return r.every(((t,n)=>Ae(e.T,t,o[n])));case"enum":return r.every(((e,t)=>Ae(_e.INT32,e,o[t])))}throw new Error(`repeated cannot contain ${e.kind}`)}switch(e.kind){case"message":let t=r,n=o;return e.T.fieldWrapper&&(void 0===t||Je(t)||(t=e.T.fieldWrapper.wrapField(t)),void 0===n||Je(n)||(n=e.T.fieldWrapper.wrapField(n))),e.T.equals(t,n);case"enum":return Ae(_e.INT32,r,o);case"scalar":return Ae(e.T,r,o);case"oneof":if(r.case!==o.case)return!1;const i=e.findField(r.case);if(void 0===i)return!0;switch(i.kind){case"message":return i.T.equals(r.value,o.value);case"enum":return Ae(_e.INT32,r.value,o.value);case"scalar":return Ae(i.T,r.value,o.value)}throw new Error(`oneof cannot contain ${i.kind}`);case"map":const a=Object.keys(r).concat(Object.keys(o));switch(e.V.kind){case"message":const t=e.V.T;return a.every((e=>t.equals(r[e],o[e])));case"enum":return a.every((e=>Ae(_e.INT32,r[e],o[e])));case"scalar":const n=e.V.T;return a.every((e=>Ae(n,r[e],o[e])))}}})),clone(e){const t=e.getType(),n=new t,r=n;for(const n of t.fields.byMember()){const t=e[n.localName];let o;if(n.repeated)o=t.map(St);else if("map"==n.kind){o=r[n.localName];for(const[e,n]of Object.entries(t))o[e]=St(n)}else o="oneof"==n.kind?n.findField(t.case)?{case:t.case,value:St(t.value)}:{case:void 0}:St(t);r[n.localName]=o}for(const n of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(r,n.no,n.wireType,n.data);return n}}),{newFieldList:Ft,initFields:Ut}),makeMessageType(e,t,n){return function(e,t,n,r){var o;const i=null!==(o=null==r?void 0:r.localName)&&void 0!==o?o:t.substring(t.lastIndexOf(".")+1),a={[i]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[i];return Object.setPrototypeOf(a.prototype,new ie),Object.assign(a,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:(e,t)=>(new a).fromBinary(e,t),fromJson:(e,t)=>(new a).fromJson(e,t),fromJsonString:(e,t)=>(new a).fromJsonString(e,t),equals:(t,n)=>e.util.equals(a,t,n)}),a}(this,e,t,n)},makeEnum:pe,makeEnumType:he,getEnumType:fe,makeExtension(e,t,n){return function(e,t,n,r){let o;return{typeName:t,extendee:n,get field(){if(!o){const n="function"==typeof r?r():r;n.name=t.split(".").pop(),n.jsonName=`[${t}]`,o=e.util.newFieldList([n]).list()[0]}return o},runtime:e}}(this,e,t,n)}});var Ft,Ut,Mt,Bt,Rt,$t,Jt;class Gt extends ie{constructor(e){super(),this.seconds=Ee.zero,this.nanos=0,Dt.util.initPartial(e,this)}fromJson(e,t){if("string"!=typeof e)throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${Dt.json.debug(e)}`);const n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Ee.parse(r/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){const t=1e3*Number(this.seconds);if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){const e=(this.nanos+1e9).toString().substring(1);n="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return Gt.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new Gt({seconds:Ee.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return(new Gt).fromBinary(e,t)}static fromJson(e,t){return(new Gt).fromJson(e,t)}static fromJsonString(e,t){return(new Gt).fromJsonString(e,t)}static equals(e,t){return Dt.util.equals(Gt,e,t)}}Gt.runtime=Dt,Gt.typeName="google.protobuf.Timestamp",Gt.fields=Dt.util.newFieldList((()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]));class Vt extends ie{constructor(e){super(),this.analyticsToken="",this.analyticsTokenFormat=Mt.UNSPECIFIED,Dt.util.initPartial(e,this)}static fromBinary(e,t){return(new Vt).fromBinary(e,t)}static fromJson(e,t){return(new Vt).fromJson(e,t)}static fromJsonString(e,t){return(new Vt).fromJsonString(e,t)}static equals(e,t){return Dt.util.equals(Vt,e,t)}}Vt.runtime=Dt,Vt.typeName="nike.clickstream.core.experimentation.v1.ExperimentActivated",Vt.fields=Dt.util.newFieldList((()=>[{no:1,name:"analytics_token",kind:"scalar",T:9},{no:2,name:"analytics_token_format",kind:"enum",T:Dt.getEnumType(Mt)}])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ADOBE_TARGET=1]="ADOBE_TARGET",e[e.NIKE_ODD=2]="NIKE_ODD"}(Mt||(Mt={})),Dt.util.setEnumType(Mt,"nike.clickstream.core.experimentation.v1.ExperimentActivated.AnalyticsTokenFormat",[{no:0,name:"ANALYTICS_TOKEN_FORMAT_UNSPECIFIED"},{no:1,name:"ANALYTICS_TOKEN_FORMAT_ADOBE_TARGET"},{no:2,name:"ANALYTICS_TOKEN_FORMAT_NIKE_ODD"}]);class zt extends ie{constructor(e){super(),this.groupId="",this.segmentId="",this.isHoldout=!1,Dt.util.initPartial(e,this)}static fromBinary(e,t){return(new zt).fromBinary(e,t)}static fromJson(e,t){return(new zt).fromJson(e,t)}static fromJsonString(e,t){return(new zt).fromJsonString(e,t)}static equals(e,t){return Dt.util.equals(zt,e,t)}}zt.runtime=Dt,zt.typeName="nike.clickstream.core.experimentation.v1.UniversalHoldout",zt.fields=Dt.util.newFieldList((()=>[{no:1,name:"group_id",kind:"scalar",T:9},{no:2,name:"segment_id",kind:"scalar",T:9},{no:3,name:"is_holdout",kind:"scalar",T:8}]));class qt extends ie{constructor(e){super(),this.underlyingAction={case:void 0},Dt.util.initPartial(e,this)}static fromBinary(e,t){return(new qt).fromBinary(e,t)}static fromJson(e,t){return(new qt).fromJson(e,t)}static fromJsonString(e,t){return(new qt).fromJsonString(e,t)}static equals(e,t){return Dt.util.equals(qt,e,t)}}qt.runtime=Dt,qt.typeName="nike.clickstream.event.experimentation.v1.Action",qt.fields=Dt.util.newFieldList((()=>[{no:1,name:"experiment_activated",kind:"message",T:Vt,oneof:"underlying_action"},{no:2,name:"universal_holdout",kind:"message",T:zt,oneof:"underlying_action"}]));class Ht extends ie{constructor(e){super(),this.deviceId="",this.anonymousId="",this.ecid="",this.app=Bt.UNSPECIFIED,this.platform=Rt.UNSPECIFIED,Dt.util.initPartial(e,this)}static fromBinary(e,t){return(new Ht).fromBinary(e,t)}static fromJson(e,t){return(new Ht).fromJson(e,t)}static fromJsonString(e,t){return(new Ht).fromJsonString(e,t)}static equals(e,t){return Dt.util.equals(Ht,e,t)}}Ht.runtime=Dt,Ht.typeName="nike.clickstream.event.experimentation.v1.Event",Ht.fields=Dt.util.newFieldList((()=>[{no:1,name:"timestamp",kind:"message",T:Gt},{no:2,name:"device_id",kind:"scalar",T:9},{no:3,name:"anonymous_id",kind:"scalar",T:9},{no:4,name:"ecid",kind:"scalar",T:9},{no:5,name:"app",kind:"enum",T:Dt.getEnumType(Bt)},{no:6,name:"platform",kind:"enum",T:Dt.getEnumType(Rt)},{no:7,name:"action",kind:"message",T:qt}])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DOTCOM=1]="DOTCOM",e[e.NIKEAPP=2]="NIKEAPP"}(Bt||(Bt={})),Dt.util.setEnumType(Bt,"nike.clickstream.event.experimentation.v1.Event.App",[{no:0,name:"APP_UNSPECIFIED"},{no:1,name:"APP_DOTCOM"},{no:2,name:"APP_NIKEAPP"}]),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WEB=1]="WEB",e[e.IOS=2]="IOS",e[e.ANDROID=3]="ANDROID"}(Rt||(Rt={})),Dt.util.setEnumType(Rt,"nike.clickstream.event.experimentation.v1.Event.Platform",[{no:0,name:"PLATFORM_UNSPECIFIED"},{no:1,name:"PLATFORM_WEB"},{no:2,name:"PLATFORM_IOS"},{no:3,name:"PLATFORM_ANDROID"}]);class Wt extends ie{constructor(e){super(),this.event={case:void 0},Dt.util.initPartial(e,this)}static fromBinary(e,t){return(new Wt).fromBinary(e,t)}static fromJson(e,t){return(new Wt).fromJson(e,t)}static fromJsonString(e,t){return(new Wt).fromJsonString(e,t)}static equals(e,t){return Dt.util.equals(Wt,e,t)}}Wt.runtime=Dt,Wt.typeName="nike.clickstream.service.experimentation.v1.TrackEventRequest",Wt.fields=Dt.util.newFieldList((()=>[{no:1,name:"event_v1",kind:"message",T:Ht,oneof:"event"}]));class Xt extends ie{constructor(e){super(),this.message="",this.eventId="",Dt.util.initPartial(e,this)}static fromBinary(e,t){return(new Xt).fromBinary(e,t)}static fromJson(e,t){return(new Xt).fromJson(e,t)}static fromJsonString(e,t){return(new Xt).fromJsonString(e,t)}static equals(e,t){return Dt.util.equals(Xt,e,t)}}Xt.runtime=Dt,Xt.typeName="nike.clickstream.service.experimentation.v1.TrackEventResponse",Xt.fields=Dt.util.newFieldList((()=>[{no:1,name:"message",kind:"scalar",T:9},{no:2,name:"event_id",kind:"scalar",T:9}])),function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"}($t||($t={})),function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"}(Jt||(Jt={}));const Zt={typeName:"nike.clickstream.service.experimentation.v1.Service",methods:{trackEvent:{name:"TrackEvent",I:Wt,O:Xt,kind:$t.Unary}}};function Yt(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}var Kt;function Qt(e){const t=Kt[e];return"string"!=typeof t?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,(e=>"_"+e.toLowerCase()))}let en;!function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(Kt||(Kt={}));class tn extends Error{constructor(e,t=Kt.Unknown,n,r,o){super(function(e,t){return e.length?`[${Qt(t)}] ${e}`:`[${Qt(t)}]`}(e,t)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=t,this.metadata=new Headers(null!=n?n:{}),this.details=null!=r?r:[],this.cause=o}static from(e,t=Kt.Unknown){return e instanceof tn?e:e instanceof Error?"AbortError"==e.name?new tn(e.message,Kt.Canceled):new tn(e.message,t,void 0,void 0,e):new tn(String(e),t,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error&&(Object.getPrototypeOf(e)===tn.prototype||"ConnectError"===e.name&&"code"in e&&"number"==typeof e.code&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&"string"==typeof e.rawMessage&&"cause"in e)}findDetails(e){const t="typeName"in e?{findMessage:t=>t===e.typeName?e:void 0}:e,n=[];for(const e of this.details){if("getType"in e){t.findMessage(e.getType().typeName)&&n.push(e);continue}const r=t.findMessage(e.type);if(r)try{n.push(r.fromBinary(e.value))}catch(e){}}return n}}function nn(e){var t;const n=Object.assign({},e);return null!==(t=n.ignoreUnknownFields)&&void 0!==t||(n.ignoreUnknownFields=!0),n}function rn(e,t,n,r){const o=t?on(e.I,r):an(e.I,n);return{parse:(t?on(e.O,r):an(e.O,n)).parse,serialize:o.serialize}}function on(e,t){return{parse(n){try{return e.fromBinary(n,t)}catch(e){const t=e instanceof Error?e.message:String(e);throw new tn(`parse binary: ${t}`,Kt.Internal)}},serialize(e){try{return e.toBinary(t)}catch(e){const t=e instanceof Error?e.message:String(e);throw new tn(`serialize binary: ${t}`,Kt.Internal)}}}}function an(e,t){var n,r;const o=null!==(n=null==t?void 0:t.textEncoder)&&void 0!==n?n:new TextEncoder,i=null!==(r=null==t?void 0:t.textDecoder)&&void 0!==r?r:new TextDecoder,a=nn(t);return{parse(t){try{const n=i.decode(t);return e.fromJsonString(n,a)}catch(e){throw tn.from(e,Kt.InvalidArgument)}},serialize(e){try{const t=e.toJsonString(a);return o.encode(t)}catch(e){throw tn.from(e,Kt.Internal)}}}}function sn(e,t){var n;return null!==(n=null==t?void 0:t.concat().reverse().reduce(((e,t)=>t(e)),e))&&void 0!==n?n:e}function cn(e){if(!e.aborted)return;if(void 0!==e.reason)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function un(e,t){return t instanceof e?t:new e(t)}function ln(e,t){function n(t){return!0===t.done?t:{done:t.done,value:un(e,t.value)}}return{[Symbol.asyncIterator](){const e=t[Symbol.asyncIterator](),r={next:()=>e.next().then(n)};return void 0!==e.throw&&(r.throw=t=>e.throw(t).then(n)),void 0!==e.return&&(r.return=t=>e.return(t).then(n)),r}}}function fn(e){const{signal:t,cleanup:n}=function(e){const t=new AbortController,n=()=>{t.abort(new tn("the operation timed out",Kt.DeadlineExceeded))};let r;return void 0!==e&&(e<=0?n():r=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(r)}}(e.timeoutMs),r=function(...e){const t=new AbortController,n=e.filter((e=>void 0!==e)).concat(t.signal);for(const e of n){if(e.aborted){r.apply(e);break}e.addEventListener("abort",r)}function r(){t.signal.aborted||t.abort(cn(this));for(const e of n)e.removeEventListener("abort",r)}return t}(e.signal,t);return[r.signal,function(e){const o=tn.from(t.aborted?cn(t):e);return r.abort(o),n(),Promise.reject(o)},function(){n(),r.abort()}]}function dn(e,t,n){const r="string"==typeof t?t:t.typeName,o="string"==typeof n?n:n.name;return e.toString().replace(/\/?$/,`/${r}/${o}`)}const hn="Content-Type",pn="Content-Length",gn="Content-Encoding",mn="Accept-Encoding",vn="Connect-Protocol-Version",yn="1";const wn=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i;function bn(e,t,n,r,o){const i=new Headers(null!=r?r:{});return void 0!==n&&i.set("Connect-Timeout-Ms",`${n}`),i.set(hn,e==$t.Unary?t?"application/proto":"application/json":t?"application/connect+proto":"application/connect+json"),i.set(vn,yn),o&&i.set("User-Agent","connect-es/1.6.1"),i}const kn="application/";function Sn(e,t,n){let r=`?connect=v${yn}`;const o=e.header.get(hn);0===(null==o?void 0:o.indexOf(kn))&&(r+="&encoding="+encodeURIComponent(o.slice(12)));const i=e.header.get(gn);null!==i&&"identity"!==i&&(r+="&compression="+encodeURIComponent(i),n=!0),n&&(r+="&base64=1"),r+="&message="+function(e,t){return t?De.enc(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent((new TextDecoder).decode(e))}(t,n);const a=e.url+r,s=new Headers(e.header);return[vn,hn,pn,gn,mn].forEach((e=>s.delete(e))),Object.assign(Object.assign({},e),{init:Object.assign(Object.assign({},e.init),{method:"GET"}),url:a,header:s})}function Nn(e,t,n,r){const o=r.get(hn),i=function(e){const t=null==e?void 0:e.match(wn);if(!t)return;return{stream:!!t[1],binary:!!t[3]}}(o);if(200!==n){const t=new tn(`HTTP ${n}`,function(e){switch(e){case 400:return Kt.Internal;case 401:return Kt.Unauthenticated;case 403:return Kt.PermissionDenied;case 404:return Kt.Unimplemented;case 429:case 502:case 503:case 504:return Kt.Unavailable;default:return Kt.Unknown}}(n),r);if(e==$t.Unary&&i&&!i.binary)return{isUnaryError:!0,unaryError:t};throw t}const a=t,s=e!==$t.Unary;if((null==i?void 0:i.binary)!==a||i.stream!==s)throw new tn(`unsupported content type ${o}`,void 0===i?Kt.Unknown:Kt.Internal,r);return{isUnaryError:!1}}function On(e,t,n){var r;if(t&&new Headers(t).forEach(((e,t)=>n.metadata.append(t,e))),"object"!=typeof e||null==e||Array.isArray(e))throw n;let o=n.code;"code"in e&&"string"==typeof e.code&&(o=null!==(r=function(e){if(!en){en={};for(const e of Object.values(Kt))"string"!=typeof e&&(en[Qt(e)]=e)}return en[e]}(e.code))&&void 0!==r?r:o);const i=e.message;if(null!=i&&"string"!=typeof i)throw n;const a=new tn(null!=i?i:"",o,t);if("details"in e&&Array.isArray(e.details))for(const t of e.details){if(null===t||"object"!=typeof t||Array.isArray(t)||"string"!=typeof t.type||"string"!=typeof t.value)throw n;try{a.details.push({type:t.type,value:De.dec(t.value),debug:t.debug})}catch(e){throw n}}return a}function Tn(e){const t=new Headers,n=new Headers;return e.forEach(((e,r)=>{r.toLowerCase().startsWith("trailer-")?n.append(r.substring(8),e):t.append(r,e)})),[t,n]}function En(e){const t=new tn("invalid end stream",Kt.Unknown);let n;try{n=JSON.parse("string"==typeof e?e:(new TextDecoder).decode(e))}catch(e){throw t}if("object"!=typeof n||null==n||Array.isArray(n))throw t;const r=new Headers;if("metadata"in n){if("object"!=typeof n.metadata||null==n.metadata||Array.isArray(n.metadata))throw t;for(const[e,o]of Object.entries(n.metadata)){if(!Array.isArray(o)||o.some((e=>"string"!=typeof e)))throw t;for(const t of o)r.append(e,t)}}return{metadata:r,error:"error"in n&&null!=n.error?On(n.error,r,t):void 0}}var _n=function(e){return this instanceof _n?(this.v=e,this):new _n(e)},In=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof _n?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}};function An(e){var t;!function(){try{new Headers}catch(e){throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}();const n=null!==(t=e.useBinaryFormat)&&void 0!==t&&t;return{async unary(t,r,o,i,a,s,c){var u;const{serialize:l,parse:f}=rn(r,n,e.jsonOptions,e.binaryOptions);return i=void 0===i?e.defaultTimeoutMs:i<=0?void 0:i,await function(e){const t=sn(e.next,e.interceptors),[n,r,o]=fn(e);return t(Object.assign(Object.assign({},e.req),{message:un(e.req.method.I,e.req.message),signal:n})).then((e=>(o(),e)),r)}({interceptors:e.interceptors,signal:o,timeoutMs:i,req:{stream:!1,service:t,method:r,url:dn(e.baseUrl,t,r),init:{method:"POST",credentials:null!==(u=e.credentials)&&void 0!==u?u:"same-origin",redirect:"error",mode:"cors"},header:bn(r.kind,n,i,a,!1),contextValues:null!=c?c:Yt(),message:s},next:async o=>{var i;let a=null;!0===e.useHttpGet&&r.idempotency===Jt.NoSideEffects?o=Sn(o,l(o.message),n):a=l(o.message);const s=null!==(i=e.fetch)&&void 0!==i?i:globalThis.fetch,c=await s(o.url,Object.assign(Object.assign({},o.init),{headers:o.header,signal:o.signal,body:a})),{isUnaryError:u,unaryError:d}=Nn(r.kind,n,c.status,c.headers);if(u)throw On(await c.json(),function(...e){const t=new Headers;for(const n of e)n.forEach(((e,n)=>{t.append(n,e)}));return t}(...Tn(c.headers)),d);const[h,p]=Tn(c.headers);return{stream:!1,service:t,method:r,header:h,message:n?f(new Uint8Array(await c.arrayBuffer())):r.O.fromJson(await c.json(),nn(e.jsonOptions)),trailer:p}}})},async stream(t,r,o,i,a,s,c){var u;const{serialize:l,parse:f}=rn(r,n,e.jsonOptions,e.binaryOptions);function d(e,t,n,r){return In(this,arguments,(function*(){const o=function(e){let t,n=new Uint8Array(0);function r(e){const t=new Uint8Array(n.length+e.length);t.set(n),t.set(e,n.length),n=t}return new ReadableStream({start(){t=e.getReader()},async pull(e){let o;for(;;){if(void 0===o&&n.byteLength>=5){let e=0;for(let t=1;t<5;t++)e=(e<<8)+n[t];o={flags:n[0],length:e}}if(void 0!==o&&n.byteLength>=o.length+5)break;const e=await t.read();if(e.done)break;r(e.value)}if(void 0===o)return 0==n.byteLength?void e.close():void e.error(new tn("premature end of stream",Kt.DataLoss));const i=n.subarray(5,5+o.length);n=n.subarray(5+o.length),e.enqueue({flags:o.flags,data:i})}})}(e).getReader();let i=!1;for(;;){const e=yield _n(o.read());if(e.done)break;const{flags:r,data:a}=e.value;if(!(1&~r))throw new tn("protocol error: received unsupported compressed output",Kt.Internal);if(2&~r)yield yield _n(f(a));else{i=!0;const e=En(a);if(e.error){const t=e.error;throw n.forEach(((e,n)=>{t.metadata.append(n,e)})),t}e.metadata.forEach(((e,n)=>t.set(n,e)))}}if("throwIfAborted"in r&&r.throwIfAborted(),!i)throw"missing EndStreamResponse"}))}async function h(e){if(r.kind!=$t.ServerStreaming)throw"The fetch API does not support streaming request bodies";const t=await e[Symbol.asyncIterator]().next();if(1==t.done)throw"missing request message";return function(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const r=new DataView(n.buffer,n.byteOffset,n.byteLength);return r.setUint8(0,e),r.setUint32(1,t.length),n}(0,l(t.value))}return i=void 0===i?e.defaultTimeoutMs:i<=0?void 0:i,await function(e){const t=sn(e.next,e.interceptors),[n,r,o]=fn(e),i=Object.assign(Object.assign({},e.req),{message:ln(e.req.method.I,e.req.message),signal:n});let a=!1;return n.addEventListener("abort",(function(){var t,n;const r=e.req.message[Symbol.asyncIterator]();a||null===(t=r.throw)||void 0===t||t.call(r,this.reason).catch((()=>{})),null===(n=r.return)||void 0===n||n.call(r).catch((()=>{}))})),t(i).then((e=>Object.assign(Object.assign({},e),{message:{[Symbol.asyncIterator](){const t=e.message[Symbol.asyncIterator]();return{next:()=>t.next().then((e=>(1==e.done&&(a=!0,o()),e)),r)}}}})),r)}({interceptors:e.interceptors,timeoutMs:i,signal:o,req:{stream:!0,service:t,method:r,url:dn(e.baseUrl,t,r),init:{method:"POST",credentials:null!==(u=e.credentials)&&void 0!==u?u:"same-origin",redirect:"error",mode:"cors"},header:bn(r.kind,n,i,a,!1),contextValues:null!=c?c:Yt(),message:s},next:async t=>{var o;const i=null!==(o=e.fetch)&&void 0!==o?o:globalThis.fetch,a=await i(t.url,Object.assign(Object.assign({},t.init),{headers:t.header,signal:t.signal,body:await h(t.message)}));if(Nn(r.kind,n,a.status,a.headers),null===a.body)throw"missing response body";const s=new Headers;return Object.assign(Object.assign({},t),{header:a.headers,trailer:s,message:d(a.body,s,a.headers,t.signal)})}})}}}var Cn=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},xn=function(e){return this instanceof xn?(this.v=e,this):new xn(e)},jn=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof xn?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},Pn=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:xn(e[r](t)),done:!1}:o?o(t):t}:o}};var Ln=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},Dn=function(e){return this instanceof Dn?(this.v=e,this):new Dn(e)},Fn=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Dn(e[r](t)),done:!1}:o?o(t):t}:o}},Un=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof Dn?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}};function Mn(e,t){return function(e,t){const n={};for(const[r,o]of Object.entries(e.methods)){const i=t(Object.assign(Object.assign({},o),{localName:r,service:e}));null!=i&&(n[r]=i)}return n}(e,(n=>{switch(n.kind){case $t.Unary:return function(e,t,n){return async function(r,o){var i,a;const s=await e.unary(t,n,null==o?void 0:o.signal,null==o?void 0:o.timeoutMs,null==o?void 0:o.headers,r,null==o?void 0:o.contextValues);return null===(i=null==o?void 0:o.onHeader)||void 0===i||i.call(o,s.header),null===(a=null==o?void 0:o.onTrailer)||void 0===a||a.call(o,s.trailer),s.message}}(t,e,n);case $t.ServerStreaming:return function(e,t,n){return function(r,o){return Bn(e.stream(t,n,null==o?void 0:o.signal,null==o?void 0:o.timeoutMs,null==o?void 0:o.headers,function(e){return jn(this,arguments,(function*(){yield xn(yield*Pn(Cn(e)))}))}([r]),null==o?void 0:o.contextValues),o)}}(t,e,n);case $t.ClientStreaming:return function(e,t,n){return async function(r,o){var i,a,s,c,u,l;const f=await e.stream(t,n,null==o?void 0:o.signal,null==o?void 0:o.timeoutMs,null==o?void 0:o.headers,r,null==o?void 0:o.contextValues);let d;null===(u=null==o?void 0:o.onHeader)||void 0===u||u.call(o,f.header);let h=0;try{for(var p,g=!0,m=Ln(f.message);!(i=(p=await m.next()).done);g=!0){c=p.value,g=!1;d=c,h++}}catch(e){a={error:e}}finally{try{g||i||!(s=m.return)||await s.call(m)}finally{if(a)throw a.error}}if(!d)throw new tn("protocol error: missing response message",Kt.Unimplemented);if(h>1)throw new tn("protocol error: received extra messages for client streaming method",Kt.Unimplemented);return null===(l=null==o?void 0:o.onTrailer)||void 0===l||l.call(o,f.trailer),d}}(t,e,n);case $t.BiDiStreaming:return function(e,t,n){return function(r,o){return Bn(e.stream(t,n,null==o?void 0:o.signal,null==o?void 0:o.timeoutMs,null==o?void 0:o.headers,r,null==o?void 0:o.contextValues),o)}}(t,e,n);default:return null}}))}function Bn(e,t){const n=function(){return Un(this,arguments,(function*(){var n,r;const o=yield Dn(e);null===(n=null==t?void 0:t.onHeader)||void 0===n||n.call(t,o.header),yield Dn(yield*Fn(Ln(o.message))),null===(r=null==t?void 0:t.onTrailer)||void 0===r||r.call(t,o.trailer)}))}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}var Rn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};class $n{fetch(e,t){return Rn(this,void 0,void 0,(function*(){return W()(e,t)}))}get(e,t){return Rn(this,void 0,void 0,(function*(){const n=yield W()(e,Object.assign({method:"GET"},t)),r=yield n.json();return{status:n.status,statusText:n.statusText,data:r}}))}post(e,t,n){return Rn(this,void 0,void 0,(function*(){const r=yield W()(e,Object.assign(Object.assign(Object.assign({method:"POST"},t?{body:JSON.stringify(t)}:{}),n),{headers:Object.assign(Object.assign({},t?{"Content-Type":"application/json"}:{}),(null==n?void 0:n.headers)||{})})),o=yield r.json();return{status:r.status,statusText:r.statusText,data:o}}))}}var Jn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};class Gn{fetch(e,t){return Jn(this,void 0,void 0,(function*(){return fetch(e,t)}))}get(e,t){return Jn(this,void 0,void 0,(function*(){const n=yield fetch(e,Object.assign({method:"GET"},t)),r=yield n.json();return{status:n.status,statusText:n.statusText,data:r}}))}post(e,t,n){return Jn(this,void 0,void 0,(function*(){const r=yield fetch(e,Object.assign(Object.assign(Object.assign({method:"POST"},t?{body:JSON.stringify(t)}:{}),n),{headers:Object.assign(Object.assign({},t?{"Content-Type":"application/json"}:{}),(null==n?void 0:n.headers)||{})})),o=yield r.json();return{status:r.status,statusText:r.statusText,data:o}}))}}const Vn="1.5.1";var zn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};let qn;var Hn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};let Wn;class Xn{info(e,t){t?console.info(`INFO: ${e}`,t):console.info(`INFO: ${e}`)}warn(e,t){t?console.warn(`WARN: ${e}`,t):console.warn(`WARN: ${e}`)}error(e,t){t?console.error(`ERROR: ${e}`,t):console.error(`ERROR: ${e}`)}log(e,t){t?console.log(`LOG: ${e}`,t):console.log(`LOG: ${e}`)}}function Zn(e){if("undefined"!=typeof window){if(!e)throw new Error("Platform parameter required for browser logger implementation");return(e=>zn(void 0,void 0,void 0,(function*(){return qn||(qn=yield D({version:Vn,platform:e}),qn)})))(e)}return Hn(void 0,void 0,void 0,(function*(){return Wn||(Wn=new Xn,Wn)}))}var Yn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Kn(e){return Yn(this,arguments,void 0,(function*({debug:e,platform:t}){const n=yield Zn(t),r="undefined"!=typeof window?new Gn:new $n,o=An({baseUrl:"https://experimentation.halfpipe.nike.com",fetch:(e,t)=>Yn(this,void 0,void 0,(function*(){!function(e,t,n){if(!e)return;try{const r="string"==typeof t?t:t.url,o=(null==n?void 0:n.method)||"GET";e.info("gRPC request",{url:r,method:o,headers:null==n?void 0:n.headers,hasBody:!!(null==n?void 0:n.body)})}catch(t){e.error("Error logging gRPC request",{error:t})}}(n,e,t);try{return yield r.fetch(e,t)}catch(t){throw function(e,t,n){if(!e)return;try{const r="string"==typeof t?t:t.url;e.error("gRPC request failed",{url:r,error:n.message||n,stack:n.stack,code:n.code})}catch(t){e.error("Error logging gRPC error",{error:t})}}(n,e,t),t}})),useBinaryFormat:!e});return{v1:Mn(Zt,o)}}))}var Qn,er,tr=function(e){return e?e.split(";").reduce((function(e,t){var n=t.indexOf("="),r=t.substring(0,n).trim(),o=t.substring(n+1).trim()||"";return e[r]=o,e}),{}):{}},nr=function(e,t){try{var n=function(e,t){var n=e.document.cookie;if(n)try{return tr(n)}catch(e){null==t||t.error("Failed to parse the cookie header",e)}return{}}(window,t);if(n){var r=n[e];if(r)return{key:e,value:r}}}catch(n){null==t||t.error("Failed to parse the ".concat(e," cookie value"),n)}},rr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},or=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ir=function(e){return rr(void 0,void 0,void 0,(function(){var n;return or(this,(function(r){switch(r.label){case 0:return[4,t.runAsync((function(){var t,n,r=null===(t=nr("s_ecid",e))||void 0===t?void 0:t.value;if(r)return decodeURIComponent(r).split("|")[1];var o=null===(n=nr("AMCV_F0935E09512D2C270A490D4D%40AdobeOrg",e))||void 0===n?void 0:n.value;if(o){var i=decodeURIComponent(o).match(/MCMID\|([0-9]+)/);if(i&&i.length>1)return i[1]}}))];case 1:return(n=r.sent())?[2,n]:(null==e||e.error("Failed to get ecid from cookie"),[2,void 0])}}))}))},ar=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},sr=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},cr=["performance"],ur=["au","id","in","jp","kr","my","nz","ph","sg","th","tw","vn","mx"];function lr(){return ar(this,void 0,void 0,(function(){var e;return sr(this,(function(t){switch(t.label){case 0:return[4,(e=window.webShellClient).identity.getIsLoggedIn()];case 1:return t.sent()?[4,e.identity.getUserProfile()]:[3,3];case 2:return[2,t.sent().registeredCountry];case 3:return[2,e.userLocation.current.country]}}))}))}function fr(){return ar(this,void 0,void 0,(function(){var e,t,n,r;return sr(this,(function(o){switch(o.label){case 0:return(null==(e=window.NikePrivacy)?void 0:e.isEnabled)?[4,e.isInitialized()]:[2,!1];case 1:return o.sent(),(t=null===(r=window.NikePrivacy)||void 0===r?void 0:r.permissions.get())?(n=t.flatMap((function(e){var t=e.category;return e.isEnabled?[t.toLocaleLowerCase()]:[]})),[2,cr.every((function(e){return n.includes(e)}))]):[2,!1]}}))}))}function dr(e){var t=e.toLocaleLowerCase();return ur.includes(t)}function hr(e){return ar(this,void 0,void 0,(function(){return sr(this,(function(t){switch(t.label){case 0:return[4,fr()];case 1:return[2,t.sent()||dr(e)]}}))}))}function pr(e,t){return ar(this,void 0,void 0,(function(){var n;return sr(this,(function(r){switch(r.label){case 0:return n=!1,[4,hr(e)];case 1:return(n=r.sent())||null==t||t.warn("Appropriate UGP permissions have not been given. Cannot fetch Adobe Target locations.",{errorMessage:"Appropriate UGP permissions have not been given."}),[2,n]}}))}))}!function(e){e[e.DOTCOM=1]="DOTCOM"}(Qn||(Qn={})),function(e){e[e.WEB=1]="WEB"}(er||(er={}));var gr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},mr=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},vr="Universal Holdout Disposition",yr=function(e,t,n,r){return gr(void 0,void 0,void 0,(function(){var o,i,a,s,c,u;return mr(this,(function(l){switch(l.label){case 0:return[4,Kn({debug:!1,platform:B})];case 1:return o=l.sent(),[4,ir(r)];case 2:return i=l.sent(),a=function(e){var t,n=null===(t=nr("anonymousId",e))||void 0===t?void 0:t.value;if(n)return n;null==e||e.error("Failed to get anonymousId from cookie")}(r),s=null!=n?n:{holdoutGroupID:null,segmentID:null,isHoldout:!1},setTimeout((function(){return gr(void 0,void 0,void 0,(function(){var t,n,c;return mr(this,(function(u){switch(u.label){case 0:return[4,lr()];case 1:return[4,pr(u.sent(),r)];case 2:return u.sent()?(null===(c=null===window||void 0===window?void 0:window.webShellClient)||void 0===c?void 0:c.analytics)?[4,window.webShellClient.analytics.isInitialized()]:[3,4]:[3,7];case 3:u.sent(),u.label=4;case 4:return u.trys.push([4,6,,7]),t={timestamp:Gt.fromDate(new Date(Date.now()+100)),deviceId:e,anonymousId:a,ecid:i,app:Qn.DOTCOM,platform:er.WEB,action:{underlyingAction:{case:"universalHoldout",value:{groupId:s.holdoutGroupID,segmentId:s.segmentID,isHoldout:s.isHoldout}}}},[4,o.v1.trackEvent({event:{case:"eventV1",value:t}})];case 5:return u.sent(),[3,7];case 6:return n=u.sent(),null==r||r.error("[Universal Holdout] Analytics events sending error",n),[3,7];case 7:return[2]}}))}))}),100),null==r||r.info("[UH] ".concat(vr),{UNIVERSAL_HOLDOUT_EVENT_NAME:vr,bucket:t,deviceId:e,ecid:i,anonymousId:a,groupId:null!==(c=s.holdoutGroupID)&&void 0!==c?c:"0",segmentId:null!==(u=s.segmentID)&&void 0!==u?u:"0",disposition:s.isHoldout}),[2]}}))}))},wr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},br=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},kr=null,Sr={evaluated:!1,isHoldout:null},Nr=function(e,t){return wr(void 0,void 0,void 0,(function(){var n,r,o,i,a;return br(this,(function(s){switch(s.label){case 0:return t&&$.includes(t)?[2,!1]:(kr!==e&&(kr=e,Sr={evaluated:!1,isHoldout:null}),Sr.evaluated?[2,Sr.isHoldout||!1]:[4,V()]);case 1:n=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,oe(e,n)];case 3:return(r=s.sent()).holdoutGroups.length?(c=e,u=z.x86.hash32(c)/q,o=Math.floor(1e4*u)/100,i=r.holdoutGroups.reduce((function(e,t){if(e.isHoldout)return e;var n=t.holdoutGroupID;return t.segments.reduce((function(e,t){return e.isHoldout?e:t.floor<=o&&o<=t.ceiling?{holdoutGroupID:n,isHoldout:t.holdout,segmentID:t.segmentID}:e}),e)}),{holdoutGroupID:null,isHoldout:!1,segmentID:null}),yr(e,o,i,n),Sr={evaluated:!0,isHoldout:i.isHoldout},[2,i.isHoldout]):(Sr[e]={evaluated:!0,isHoldout:!1},[2,!1]);case 4:return a=s.sent(),null==n||n.error("Error in isHoldOut function. DeviceID: ".concat(e),a),[3,5];case 5:return[2,!1]}var c,u}))}))};const Or={info:(e,t)=>{var n,r;if(null===(r=null===(n=null===window||void 0===window?void 0:window.webShellClient)||void 0===n?void 0:n.optimization)||void 0===r?void 0:r.logger)return window.webShellClient.optimization.logger.info(e,t)},debug:(e,t)=>{var n,r;if(null===(r=null===(n=null===window||void 0===window?void 0:window.webShellClient)||void 0===n?void 0:n.optimization)||void 0===r?void 0:r.logger)return window.webShellClient.optimization.logger.log(e,t)},warn:(e,t)=>{var n,r;if(null===(r=null===(n=null===window||void 0===window?void 0:window.webShellClient)||void 0===n?void 0:n.optimization)||void 0===r?void 0:r.logger)return window.webShellClient.optimization.logger.warn(e,t)},error:(e,t)=>{var n,r;if(null===(r=null===(n=null===window||void 0===window?void 0:window.webShellClient)||void 0===n?void 0:n.optimization)||void 0===r?void 0:r.logger)return window.webShellClient.optimization.logger.error(e,t)},log:(e,t)=>{var n,r;if(null===(r=null===(n=null===window||void 0===window?void 0:window.webShellClient)||void 0===n?void 0:n.optimization)||void 0===r?void 0:r.logger)return window.webShellClient.optimization.logger.log(e,t)}};var Tr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Er="nikecom",_r=e=>({locale:{language:(null==e?void 0:e.language)||"en",country:(null==e?void 0:e.country)||"us"},langRegion:(null==e?void 0:e.langRegion)||"en-US",currency:(null==e?void 0:e.currency)||"USD"}),Ir=()=>{var e,t;return _r(null===(t=null===(e=window.webShellClient)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.get())};const Ar=(e,t)=>{var n;try{const n=p(),{pageName:r,pageDetail:o}=((e,t)=>{var n,r,o,i,a,s,c,u,l,f,d,h,p,g,m,v,y,w,b,k,S,N,O,T,E,_,I,A,C,x;let j,P;const L=(null===(n=e.location)||void 0===n?void 0:n.pathname)||"";try{switch(t){case"pdp":P=null===(r=document.querySelector("#pdp_product_title"))||void 0===r?void 0:r.innerText.toLowerCase();break;case"pw":P=null!==(d=null===(f=null===(l=null===(u=null===(c=null===(s=null===(a=null===(i=null===(o=e.__NEXT_DATA__)||void 0===o?void 0:o.props)||void 0===i?void 0:i.pageProps)||void 0===a?void 0:a.initialState)||void 0===s?void 0:s.Wall)||void 0===c?void 0:c.facetNav)||void 0===u?void 0:u.analytics)||void 0===l?void 0:l.legacyPageName)||void 0===f?void 0:f.toLowerCase())&&void 0!==d?d:void 0;break;case"homepage":j=null===(m=null===(g=null===(p=null===(h=e.__NEXT_DATA__)||void 0===h?void 0:h.props)||void 0===p?void 0:p.pageProps)||void 0===g?void 0:g.navConfig)||void 0===m?void 0:m.pageDetail,P=j;break;case"landing page":j=null===(b=null===(w=null===(y=null===(v=e.__NEXT_DATA__)||void 0===v?void 0:v.props)||void 0===y?void 0:y.pageProps)||void 0===w?void 0:w.navConfig)||void 0===b?void 0:b.globalNavPageName,P=null===(O=null===(N=null===(S=null===(k=e.__NEXT_DATA__)||void 0===k?void 0:k.props)||void 0===S?void 0:S.pageProps)||void 0===N?void 0:N.navConfig)||void 0===O?void 0:O.pageDetail;break;case"cart":j="cart",P="view";break;case"help":j="help";const t=L.split("/");2===t.length?P="home":L.includes("/search/")?P="search":L.includes("/a/")&&(P=`article>${t[t.length-1]}`);break;case"checkout":P="shipping";break;case"onsite search":P=(null===(C=null===(A=null===(I=null===(_=null===(E=null===(T=e.__NEXT_DATA__)||void 0===T?void 0:T.props)||void 0===E?void 0:E.pageProps)||void 0===_?void 0:_.initialState)||void 0===I?void 0:I.Wall)||void 0===A?void 0:A.pageData)||void 0===C?void 0:C.totalResources)?"results found":"no search results";break;case"member":j="member",P=["inbox","profile","settings"].find((e=>L.includes(e)))}return{pageName:j,pageDetail:P}}catch(n){return Or.error("Failed to get page name and detail",{host:e.location.host,errorName:n.name,errorMessage:`${n.message}. ${t}. ${L}`,stackTrace:null!==(x=n.stack)&&void 0!==x?x:""}),{pageName:void 0,pageDetail:void 0}}})(e,n),i=(e=>{let t;switch(e){case"pdp":case"homepage":case"landing page":case"cart":case"checkout":t=e;break;case"pw":t="product wall"}return t})(n),{locale:a,langRegion:s,currency:c}=t?_r(t):Ir(),u=(e=>Object.assign({domain:"www.nike.com",backendPlatform:"cloud"},e&&{name:e}))(i),l=((e,t,n)=>{const r=Object.assign(Object.assign({experienceType:Er},t&&{pageType:t}),n&&{pageDetail:n});return"landing page"===t||"homepage"===t?Object.assign(Object.assign({},r),e&&{pageName:`${Er}>${e}`}):Object.assign(Object.assign({},r),n&&{pageName:`${Er}>${t}>${n}`})})(r,n,o);return{app:u,view:l,currency:c,language:s,locale:a}}catch(t){return Or.error("Failed to get common properties",{host:e.location.host,errorName:t.name,errorMessage:t.message,stackTrace:null!==(n=t.stack)&&void 0!==n?n:""}),{app:{backendPlatform:"",domain:"",name:"",version:""},view:{experienceType:"",pageName:"",pageType:"",pageDetail:""},language:"",locale:{country:"",language:""},currency:""}}},Cr="ambiguous",xr="2iv4Qa7rFEipAs4iE850BkBpTYQvlAFZ";var jr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Pr=()=>jr(void 0,void 0,void 0,(function*(){const[e,n,r,o,i,a]=yield Promise.all([t.runAsync((()=>window.webShellClient)),t.runAsync((()=>window.NikePrivacy)),t.runAsync((()=>window.analyticsClient)),t.runAsync((()=>window.alloy)),t.runAsync((()=>jr(void 0,void 0,void 0,(function*(){var e,n;return(null===(n=null===(e=window.webShellClient)||void 0===e?void 0:e.analytics)||void 0===n?void 0:n.isInitialized)?(yield t.runAsync((()=>window.webShellClient.analytics.isInitialized())))?{status:!0}:{status:!1,error:"Analytics is not initialized"}:{status:!1,error:"Analytics client not present"}})))),t.runAsync((()=>{var e;return null===(e=window.webShellClient.analytics)||void 0===e?void 0:e.track}))]);return e?n?r?i||a?a?o?{status:!0}:(Or.error("Alloy is not available"),{status:!1,error:"Alloy is not available"}):(Or.error("Analytics Track is not available"),{status:!1,error:"Analytics Track is not available"}):(Or.error("Analytics is not initialized & Analytics Track is not available"),{status:!1,error:"Analytics is not initialized & Analytics Track is not available"}):(Or.error("Analytics Client is not available"),{status:!1,error:"Analytics Client is not available"}):(Or.error("Nike Privacy is not available"),{status:!1,error:"Nike Privacy is not available"}):(Or.error("WebShellClient is not available"),{status:!1,error:"WebShellClient is not available"})}));function Lr(e){const t=new RegExp(`(^| )${e}=([^;]+)`),n=document.cookie.match(t);return n?n[2]:null}var Dr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Fr(e){return new URL(window.location.href).searchParams.get(e)}var Ur=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Mr=e=>Ur(void 0,void 0,void 0,(function*(){try{return e&&e&&(o=e.locale)&&"string"==typeof o.country&&"string"==typeof o.language&&"string"==typeof o.currency&&"string"==typeof o.langRegion&&(r=e.user)&&(void 0===r.upmId||"string"==typeof r.upmId)&&"string"==typeof r.fpid&&(n=e.analytics)&&"function"==typeof n.track&&(t=e.privacy)&&"boolean"==typeof t.hasConsent?{status:!0}:(null==Or||Or.error("Invalid context",{data:e}),{status:!1,error:"Invalid context"})}catch(t){return Or.error("Invalid context",{data:e}),{status:!1,error:JSON.stringify(t)}}var t,n,r,o})),Br=()=>{const{country:e,language:t}=window.webShellClient.locale.get();return{country:null==e?void 0:e.toUpperCase(),language:t}};var Rr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var $r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var Jr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Gr=e=>Jr(void 0,void 0,void 0,(function*(){try{if(e){const[t,n]=yield Promise.all([Dr(void 0,void 0,void 0,(function*(){return window.alloy?{status:!0}:new Promise((e=>{const t=document.createElement("script");return t.src="https://www.nike.com/assets/vendor/adobe-alloy/2.21.2/alloy.js",t.async=!0,t.id="alloy-from-optclient",t.onload=()=>{e({status:!0})},t.onerror=()=>{Or.error("Alloy Inject failed"),e({status:!1,error:"Alloy Inject failed"})},document.head.appendChild(t),{status:!0}}))})),Mr(e)]);return t.status&&n.status?Object.assign({status:!0},e):{status:!1,error:t.error||n.error}}return yield Jr(void 0,void 0,void 0,(function*(){try{const{status:e,error:t}=yield Pr();return e?{locale:Br(),user:yield $r(void 0,void 0,void 0,(function*(){var e;const t=yield null===(e=window.webShellClient)||void 0===e?void 0:e.identity.getUserProfile();return{upmId:null==t?void 0:t.upmId,fpid:Lr("ni_d")}})),analytics:yield Rr(void 0,void 0,void 0,(function*(){return{track:window.analyticsClient.track}})),status:e}:{status:!!e,error:t||"Context build failed"}}catch(e){return{status:!1,error:`Context build failed with ${JSON.stringify(e)}`}}}))}catch(e){return{status:!1,error:`error getting context. ${JSON.stringify(e)}`}}}));class Vr{constructor(e,t){this._locations=[],this._alloy=e,t&&(this._locations=t)}}var zr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function qr(){return void 0!==window.performance&&window.performance.now?window.performance.now():Date.now()}function Hr(e){return zr(this,void 0,void 0,(function*(){const t=qr();return{result:yield e,duration:qr()-t}}))}var Wr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const Xr=["adtargeting_behavioralevents","performance","personalization_targeted_comms"],Zr=["au","id","in","jp","kr","my","nz","ph","sg","th","tw","vn","mx"];function Yr(e){return Wr(this,void 0,void 0,(function*(){return(yield function(){return Wr(this,void 0,void 0,(function*(){var e;const t=window.NikePrivacy;if(!(null==t?void 0:t.isEnabled))return!1;yield t.isInitialized();const n=null===(e=window.NikePrivacy)||void 0===e?void 0:e.permissions.get();if(n){const e=n.flatMap((({category:e,isEnabled:t})=>t?[e.toLocaleLowerCase()]:[]));return Xr.every((t=>e.includes(t)))}return!1}))}())||function(e){const t=e.toLocaleLowerCase();return Zr.includes(t)}(e)}))}function Kr(e,t){return Wr(this,void 0,void 0,(function*(){var n,r;let o=!1;try{if(void 0!==(null===(n=null==t?void 0:t.privacy)||void 0===n?void 0:n.hasConsent))o=t.privacy.hasConsent;else{const e=yield function(){return Tr(this,void 0,void 0,(function*(){const e=window.webShellClient;if(yield e.identity.getIsLoggedIn()){const{registeredCountry:t}=yield e.identity.getUserProfile();return t}return e.userLocation.current.country}))}();o=yield Yr(e)}o||Or.warn("Appropriate UGP permissions have not been given. Cannot fetch Adobe Target locations.",{errorMessage:`Appropriate UGP permissions have not been given.${JSON.stringify(t)}`,locations:e})}catch(t){Or.error("Failed to find locations",{host:window.location.host,errorName:t.name,errorMessage:t.message,stackTrace:null!==(r=t.stack)&&void 0!==r?r:"",locations:e.length?e:null})}return o}))}var Qr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};class eo extends Vr{constructor(e,n){super(e,n),this._callcount=0,this._datastreamId=null,this._apptype="dotcom",this._initialized=null,this._isHoldoutPromise=null,this._context=null,this._errorMessage=void 0,this.overrideDatastreamIdByParam=()=>{const e=Fr("datastreamId");e&&(this._datastreamId=e)},this.setConfig=e=>{void 0!==e.datastreamId&&(this._datastreamId=e.datastreamId),void 0!==e.apptype&&(this._apptype=e.apptype)},this.getLocations=(e,...n)=>Qr(this,[e,...n],void 0,(function*(e,n=!1,r,o){var i,a,s,c,u;if(yield this.isHoldout())return Or.info("User is part of holdout group."),{locations:[],error:"User is part of holdout group."};const l=null!==(i=null==e?void 0:e.locations)&&void 0!==i?i:this._locations;if(!r&&(null===(a=this._context)||void 0===a?void 0:a.status)||(yield this.isContextInitialized(r))){this._callcount++;const e=this._callcount;void 0===this._alloy&&(this._alloy=window.alloy);const i=qr();if(!this.validateLocations(l))return{locations:[],error:"No Target activity location provided."};try{const[a,u]=yield Promise.all([Hr(Kr(l,this._context)),Hr(this.getAlloyECID())]);if(!a.result)return{locations:[],error:"No UGP permissions."};this.overrideDatastreamIdByParam();const{upmId:f,fpid:d}=this._context.user,h=u.result,p=!!f;if(o=null!=o&&o,(null===(c=null===(s=this._context)||void 0===s?void 0:s.user)||void 0===c?void 0:c.fpid)&&o){const r=l.map((e=>{const t=this.getLocationParameters(l,f,p);return btoa(JSON.stringify({location:e,locationParameters:t}))})),a=new URL(window.location.href).searchParams.get("at_preview_token"),s=new URL(window.location.href).searchParams.get("at_preview_index"),c=new URL(window.location.href).searchParams.get("at_preview_listed_activities_only");if(a||s||c)r.forEach((e=>{sessionStorage.removeItem(e)})),o=!1;else{const o={locations:[]};if(r.forEach((e=>{const t=sessionStorage.getItem(e);t&&o.locations.push(JSON.parse(t))})),o.locations.length>0&&o.locations.length===l.length)return n=!1,t.runAsync((()=>Qr(this,void 0,void 0,(function*(){this.handleCache(l,{loggedIn:p,ecid:h,fpid:d,upmId:f,deferredAnalytics:n,start:i,ecidResult:u,localCallCount:e})})))),o}}const g=this.getSendEventObject(l,p,h,d,f),m=yield Hr(this._alloy("sendEvent",g)),v=m.result;Or.info("optimization client success",{locations:l,duration:qr()-i,alloyTiming:m.duration,privacyTiming:a.duration,getEcidTiming:u.duration,callCount:e});const y=this.transformAlloyOffer(null==v?void 0:v.decisions,n,l,h,d,p,r);return(null==y?void 0:y.locations)&&(this._errorMessage=void 0,this.logTargetBucketing(h,d,null==y?void 0:y.locations),!0===o&&t.runAsync((()=>Qr(this,void 0,void 0,(function*(){this.handleCache(l,{loggedIn:p,ecid:h,fpid:d,upmId:f,deferredAnalytics:n,start:i,ecidResult:u,localCallCount:e},y)}))))),y}catch(e){Or.error("Failed to find locations",{host:window.location.host,errorName:null==e?void 0:e.name,errorMessage:`${null==e?void 0:e.message}. ${JSON.stringify(r)}`,stackTrace:null!==(u=null==e?void 0:e.stack)&&void 0!==u?u:"",locations:l.length?l:null})}}return Or.warn("isInitialized returned false",{location:l}),{locations:[],error:this._errorMessage}})),this.handleCache=(e,t,n)=>Qr(this,void 0,void 0,(function*(){var r;const{loggedIn:o,ecid:i,fpid:a,upmId:s,deferredAnalytics:c,start:u,ecidResult:l,localCallCount:f}=t;if(n)try{this.logTargetBucketing(i,a,null==n?void 0:n.locations),this.writeToCache(e,n,{upmId:s,loggedIn:o})}catch(e){Or.error("Failed to write to cache",{host:window.location.host,errorName:e.name,errorMessage:e.message,stackTrace:null!==(r=e.stack)&&void 0!==r?r:"",offer:void 0})}else{const t=yield this.getData({locations:e,loggedIn:o,ecid:i,fpid:a,upmId:s,deferredAnalytics:c,start:u,ecidResult:l,localCallCount:f});this.writeToCache(e,t,{upmId:s,loggedIn:o})}})),this.getData=(e,t)=>Qr(this,void 0,void 0,(function*(){const{locations:n,loggedIn:r,ecid:o,fpid:i,upmId:a,deferredAnalytics:s}=e,c=this.getSendEventObject(n,r,o,i,a),u=(yield Hr(this._alloy("sendEvent",c))).result;return this.transformAlloyOffer(null==u?void 0:u.decisions,s,n,o,i,r,t)})),this.writeToCache=(e,t,n)=>Qr(this,void 0,void 0,(function*(){(null==t?void 0:t.locations)&&(null==t?void 0:t.locations.length)>0&&e.forEach((r=>{const o=t.locations.find((e=>e.name===r.name));if(o){const{upmId:t,loggedIn:i}=n,a=this.getLocationParameters(e,t,i),s=btoa(JSON.stringify({location:r,locationParameters:a})),c=JSON.stringify(o);sessionStorage.setItem(s,c)}}))})),this.validateLocations=e=>{let t=!1;return e.length>0?t=!0:Or.error("Location must be provided to fetch activity details via Adobe Web SDK(AlloyJS)"),t},this.getLocationName=e=>{const t=[];return e.map((e=>{t.push(e.name)})),t},this.getLocationParameters=(e,t,n)=>{var r,o;const i=window.innerWidth;let a={appCountry:null===(r=this._context)||void 0===r?void 0:r.locale.country,appLanguage:null===(o=this._context)||void 0===o?void 0:o.locale.language,browserWidth:i,"profile.userId":t,"profile.loggedIn":n};return e.map((e=>{a=Object.assign(Object.assign({},a),e.parameters)})),a},this.logTargetBucketing=(e,t,n)=>{null==n||n.forEach((n=>{var r,o,i,a;Or.log("target bucketing",{ecid:e,fpid:t,locationName:n.name,activityName:null!==(o=null===(r=n.responseTokens)||void 0===r?void 0:r["activity.name"])&&void 0!==o?o:"",experienceName:null!==(a=null===(i=n.responseTokens)||void 0===i?void 0:i["experience.name"])&&void 0!==a?a:""})}))},this.getIdentityMap=(e,t,n)=>{const r={};return e&&(r.customerecid=[{id:e,authenticatedState:n?"authenticated":Cr}]),t&&(r.FPID=[{id:t,authenticatedState:Cr,primary:!0}]),r},this.sendDisplayNotification=(e,t,n,r)=>Qr(this,void 0,void 0,(function*(){var o;const{id:i,scope:a,scopeDetails:s}=e,c=this.getIdentityMap(t,n,r);try{yield this._alloy("sendEvent",{edgeConfigOverrides:{datastreamId:this._datastreamId},xdm:{eventType:"decisioning.propositionDisplay",_experience:{decisioning:{propositions:[{id:i,scope:a,scopeDetails:s}],propositionEventType:{display:1}}},identityMap:c}})}catch(t){Or.error("Failed to send a displayEvent",{host:window.location.host,errorName:t.name,errorMessage:t.message,stackTrace:null!==(o=t.stack)&&void 0!==o?o:"",offer:e})}})),this.transformAlloyOffer=(e,t,n,r,o,i,a)=>{const s=[];return n.forEach((n=>{var c,u,l,f,d,h;const p={name:n.name};if(e&&0!==e.length){const g=e.find((e=>n.name===e.scope));if(!g)return void(this._errorMessage=`No Target activity details match found for location ${n.name}`);if(p.analytics=(null===(u=null===(c=g.scopeDetails)||void 0===c?void 0:c.characteristics)||void 0===u?void 0:u.analyticsToken)||void 0,p.content=(null===(f=null===(l=g.items[0])||void 0===l?void 0:l.data)||void 0===f?void 0:f.content)||void 0,p.responseTokens={"experience.name":(null===(d=g.items[0])||void 0===d?void 0:d.meta["experience.name"])||void 0,"activity.name":(null===(h=g.items[0])||void 0===h?void 0:h.meta["activity.name"])||void 0},p.experimentActivatedCallback=()=>{},p.analytics){const e=()=>{var e;try{return this.sendAdobeAnalyticsEvent(p,a),this.sendDisplayNotification(g,r,o,i),p.experimentActivatedCallback=()=>{},!0}catch(t){return delete p.experimentActivatedCallback,Or.error("Failed to send Analytics",{host:window.location.host,errorName:t.name,errorMessage:t.message,stackTrace:null!==(e=t.stack)&&void 0!==e?e:""}),!1}};t?p.experimentActivatedCallback=e:e()}s.push(p)}else this._errorMessage=`No Target activity details found for location ${n.name}`})),s&&s.length>0?{locations:s,error:this._errorMessage}:{locations:[],error:this._errorMessage}},this.getAlloyECID=(()=>{let e=null;return()=>(e||(e=new Promise((e=>Qr(this,void 0,void 0,(function*(){var t,n;try{const n=yield this._alloy("getIdentity");n&&e(null===(t=n.identity)||void 0===t?void 0:t.ECID)}catch(t){Or.error("Failed to fetch ecid using Alloy getIndentity method",{host:window.location.host,errorName:t.name,errorMessage:t.message,stackTrace:null!==(n=t.stack)&&void 0!==n?n:"",locations:null}),e(null)}}))))),e)})(),this.getSendEventObject=(e,t,n,r,o)=>{const i=this.getLocationName(e),a=this.getLocationParameters(e,o,t),s=this.getIdentityMap(n,r,t);return{renderDecisions:!0,edgeConfigOverrides:{datastreamId:this._datastreamId},decisionScopes:i,xdm:{eventType:"decisioning.propositionFetch",identityMap:s},data:{__adobe:{target:a}}}},Or.info("optimization client initialized")}isContextInitialized(e){return Qr(this,void 0,void 0,(function*(){let t=!1;const n=yield Gr(e);return n?(this._context=n.status?n:null,this._errorMessage=n.error,t=null!==this._context):this._errorMessage="Failed to generate context data.",t}))}isHoldout(){return Qr(this,void 0,void 0,(function*(){return this._isHoldoutPromise||(this._isHoldoutPromise=new Promise((e=>Qr(this,void 0,void 0,(function*(){const t=Lr("ni_d");e(!!t&&(yield Nr(t)))}))))),this._isHoldoutPromise}))}sendAdobeAnalyticsEvent(e,t){const n=(null==t?void 0:t.locale)||void 0,r=(e=>{const t="npe"===Fr("env")||!1;switch(e){case"ios":return t?"1BRDHl3vNC9xDs5XbzFXpGCaqP8s6iEv":"ZJixBZV8q5rHdUUcD3j9DAez1hgtC2rg";case"aos":return t?"h7cQSEWd5SAS3Ji6dDY0O1ekPyAwjcSE":"EK7Mwbi6j6pucouJ8hRlYuAeWUHFAGse";case"dotcom":return t?"POwa4r8vBBSw7xdQZ0dqGlNuyaT7Y7pZ":xr;default:return xr}})(this._apptype);if(n)return void Or.error("analyticsClient is not defined");const o={analytics:e.analytics},i=e.responseTokens["experience.name"],a=e.responseTokens["activity.name"];window.analyticsClient.track("Experiment Activated",Object.assign({"experience.name":i,"activity.name":a,abTest:o},Ar(window,n)),{writeKey:r})}}var to=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};to(void 0,void 0,void 0,(function*(){try{const e=yield D({version:"1.16.1",platform:"OPTIMIZATION_CLIENT"});window.webShellClient.optimization.logger=e;const{getLocations:t,setConfig:n,getAlloyECID:r}=new eo(window.alloy,[]);window.webShellClient.optimization.getLocations=t,window.webShellClient.optimization.__WS_UNSTABLE__.getLocations=t,window.webShellClient.optimization.configOverrides=n,window.webShellClient.optimization.__WS_UNSTABLE__.getLegacyAnalyticsMCID=r,window.webShellClient.optimization.isHoldout=Nr}catch(e){Or.error("Optimization Client",{error:e})}}))})()})();