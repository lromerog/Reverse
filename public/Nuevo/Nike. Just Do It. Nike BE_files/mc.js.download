"use strict";(()=>{var Lr=Object.create;var pe=Object.defineProperty;var Ur=Object.getOwnPropertyDescriptor;var Ar=Object.getOwnPropertyNames;var jr=Object.getPrototypeOf,Hr=Object.prototype.hasOwnProperty;var Gr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Br=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Ar(r))!Hr.call(e,n)&&n!==t&&pe(e,n,{get:()=>r[n],enumerable:!(o=Ur(r,n))||o.enumerable});return e};var fe=(e,r,t)=>(t=e!=null?Lr(jr(e)):{},Br(r||!e||!e.__esModule?pe(t,"default",{value:e,enumerable:!0}):t,e));var oe=Gr((Pe,ke)=>{(function(e){var r;if(typeof define=="function"&&define.amd&&(define(e),r=!0),typeof Pe=="object"&&(ke.exports=e(),r=!0),!r){var t=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=t,o}}})(function(){function e(){for(var o=0,n={};o<arguments.length;o++){var i=arguments[o];for(var a in i)n[a]=i[a]}return n}function r(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function t(o){function n(){}function i(c,s,l){if(!(typeof document>"u")){l=e({path:"/"},n.defaults,l),typeof l.expires=="number"&&(l.expires=new Date(new Date*1+l.expires*864e5)),l.expires=l.expires?l.expires.toUTCString():"";try{var g=JSON.stringify(s);/^[\{\[]/.test(g)&&(s=g)}catch{}s=o.write?o.write(s,c):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var k="";for(var x in l)l[x]&&(k+="; "+x,l[x]!==!0&&(k+="="+l[x].split(";")[0]));return document.cookie=c+"="+s+k}}function a(c,s){if(!(typeof document>"u")){for(var l={},g=document.cookie?document.cookie.split("; "):[],k=0;k<g.length;k++){var x=g[k].split("="),v=x.slice(1).join("=");!s&&v.charAt(0)==='"'&&(v=v.slice(1,-1));try{var Z=r(x[0]);if(v=(o.read||o)(v,Z)||r(v),s)try{v=JSON.parse(v)}catch{}if(l[Z]=v,c===Z)break}catch{}}return c?l[c]:l}}return n.set=i,n.get=function(c){return a(c,!1)},n.getJSON=function(c){return a(c,!0)},n.remove=function(c,s){i(c,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=t,n}return t(function(){})})});var A="3.94.1";var Q=()=>typeof localStorage!==void 0?localStorage.getItem("marketing_client_debug")==="true":!1,Kr=()=>new Date().toUTCString(),j=(e,r,t)=>{if(Q()){let o=console[e];console.groupCollapsed(`MC:${A} ${Kr()} ${r}`),t.forEach(n=>o(n)),console.groupEnd()}},d=(e,...r)=>{j("info",e,r)};function y(e){j("error","\u{1F6A8} mc.js internal error",[e])}var ge=e=>{let{application:{view:r}}=e,t=window.location.pathname?.split("/")?.pop()||"";return typeof localStorage!==void 0&&r==="evo order confirmation"?localStorage.getItem("evo-order-event")===t:!1};var ve=(e,r)=>{let{event:t}=e;sessionStorage.setItem("double-firing-event",`${t}|${r}`)};var Fr=(e,r,t)=>{let o=r.split("|"),n=t-parseInt(o[1],10);return o[0]===e&&n<50},ye=e=>{let{event:r}=e,t=Date.now();return typeof sessionStorage!==void 0&&Fr(r,sessionStorage.getItem("double-firing-event")||"",t)?(sessionStorage.removeItem("double-firing-event"),!0):(ve(e,t),!1)};var H=()=>window.location.hostname.includes("gs-checkout")?"Y":"N";var we=(e,r)=>H()==="Y"?"mc":r==="onCheckoutViewed"||r==="onOrderCompleted"?e.source?"mc":"dcm":e?.source||"";var he=e=>{let r=e.application?.country?.toLowerCase()??"",t=e.application?.device??"",o=e.application?.language??"",n=window?.navigator?.userAgent??"",i=e.application?.view??"";return{country:r,device:t,language:o,userAgent:n,view:i}};function p(e){if(!e)throw new Error("Invalid arguments passed into getCookie");let r=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;return r&&r==="null"?null:r}var G=e=>!!p("ni_c")?.toUpperCase().replace(/\s*/g,"").split("|").includes(`${e.toUpperCase()}=1`);var B=()=>window?.NikePrivacy?.permissions?.get()||[];var V=(e,r=B())=>!!r?.find(({category:t})=>t.toLowerCase()===e.toLowerCase())?.isEnabled;var K=()=>[V("adtargeting_hashedmatch"),G("1PA")].some(e=>e);var N={COOKIE_NAME:"geoloc",COUNTRY_KEY:"cc"},ee={queryParam:"geolocCountry",ccAlias:"country"};function h(e){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},h(e)}function Ce(e,r){if(h(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,r||"default");if(h(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ee(e){var r=Ce(e,"string");return h(r)=="symbol"?r:r+""}function re(e,r,t){return(r=Ee(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _=".nike.com",te=".nikecloud.com",zr=".converse.com";var be="https://www",vo="https://store".concat(_),yo="https://secure-store".concat(_),wo="https://api".concat(_),$r="".concat(be).concat(_),ho="".concat(be).concat(zr),Co="https://uxtesting.prod.commerce".concat(te),Eo="https://experience.prod.commerce".concat(te),bo="https://experience.test.commerce".concat(te),Po="".concat($r,"/assets");function xe(e){if(Array.isArray(e))return e}function Ie(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var o,n,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=i.call(t)).done)&&(c.push(o.value),c.length!==r);s=!0);}catch(g){l=!0,n=g}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw n}}return c}}function ne(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function Re(e,r){if(e){if(typeof e=="string")return ne(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ne(e,r):void 0}}function _e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(e,r){return xe(e)||Ie(e,r)||Re(e,r)||_e()}function Oe(e){return e.split(",").reduce(function(r,t){var o=t.split("="),n=Se(o,2),i=n[0],a=n[1];return r[i]=a,r},{})}var Te=fe(oe());var Wr=N.COOKIE_NAME,Me=function(){return Te.default.get(Wr)};var Ne=N.COOKIE_NAME,qr=N.COUNTRY_KEY,qo=ee.queryParam,Jr=ee.ccAlias,De="geoloc cookie not set";function Le(e){var r=Oe(e);return Object.defineProperty(r,Jr,{configurable:!0,get:function(){return this[qr]}}),r}function Yr(e){return e&&h(e.cookies)!=="object"?console.warn("No cookies object found to parse"):e.cookies[Ne]?Le(e.cookies[Ne]):console.warn(De)}function D(e){if(e)return Yr(e);var r=Me();return r?Le(r):(console.warn(De),r)}var ie=fe(oe()),Ue=function(){return{get:function(t){return ie.default.get(t)},set:function(t,o,n){ie.default.set(t,o,n)}}},Ae={createInstance:function(r){return{get:function(o){return Ue().get(o)},set:function(o,n){Ue().set(o,n,r)}}}};function je(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function Xr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?je(Object(t),!0).forEach(function(o){re(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}var He=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ae.createInstance(Xr({domain:r.domain||_,expires:new Date(new Date().getTime()+864e5)},r));return{get:function(n){return t.get(n)},set:function(n,i){t.set(n,i)}}},Ge=function(r,t,o){return He(o).set(r,t)},ae=function(r,t){return He(t).get(r)};var C=function(e,r){return function(){var o,n;if((o=window)!==null&&o!==void 0&&(n=o.webShellClient)!==null&&n!==void 0&&n.privacy&&window.webShellClient.privacy[e]){var i;return(i=window.webShellClient.privacy)[e].apply(i,arguments)}return r.apply(void 0,arguments)}};var ce="sq",S={UNSET:{allowPerformance:null,allowMarketing:null},0:{allowPerformance:!1,allowMarketing:!1},1:{allowPerformance:!0,allowMarketing:!1},2:{allowPerformance:!1,allowMarketing:!0},3:{allowPerformance:!0,allowMarketing:!0}},Zr={AT:"Austria",BE:"Belgium",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IE:"Ireland, Republic of (EIRE)",IT:"Italy",LV:"Latvia",LT:"Lithuania",LU:"Luxembourg",MT:"Malta",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",GB:"United Kingdom"},Be=C("isCookieRequiredCountry",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return!!Zr[e.toUpperCase()]}),se=[],b=C("getPreferences",function(e,r){var t=ae(ce,r),o=D()||{},n=o.cc||e,i=!!n;if(!t)return!i||Be(n)?S.UNSET:S[3];if(S[t])return S[t];throw new Error("unknown value for privacy cookie: ".concat(t))}),Qr=C("addInitialPreferenceListener",function(e){se.push(e)}),et=C("getInitialPreferenceListeners",function(){return se}),rt=C("isMarketingAllowed",function(e,r){return b(e,r).allowMarketing}),tt=C("isPerformanceAllowed",function(e,r){return b(e,r).allowPerformance}),Ve=C("isPreferenceSet",function(e){return typeof ae(ce,e)<"u"}),ot=C("setPreferences",function(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,n=!Ve(t),i=0;i<=3;i+=1)if(S[i].allowPerformance===e&&S[i].allowMarketing===r){Ge(ce,i,t);break}return n&&se.forEach(function(a){return a()}),b(o,t)});var nt=()=>b()?.allowMarketing,u=()=>window.NikePrivacy?.isEnabled?V("adtargeting_behavioralevents"):nt()===!0?!0:G("BEAD");var f=(e=B())=>{let r=e.find(({category:t})=>t==="performance");return r?r.isEnabled:b().allowPerformance};var it=async e=>{let r=new window.Blob([e],{type:"utf-8"}),t=await new Response(r).arrayBuffer();return new Uint8Array(t)},at=e=>Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join(""),P=async e=>{if(!e)return"";let r=await it(e),t=await window.crypto.subtle.digest("SHA-256",r);return at(t)};var I=e=>{if(!e)return"";let r=new URL(e);return r.search="",r.toString()};var ct="714737",st="2lrxTiTBk6-5ot3iFiVRFwzX40tQTtw7",lt="f6e2d580c7",dt=`https://insights-collector.newrelic.com/v1/accounts/${ct}/events`;function F(e){let{newrelic:r=null}=window;d("\u23E3 NewRelic Egress Data \u23E3",e),r&&r.loader_config&&r.loader_config.licenseKey===lt&&r.addPageAction("AdtechMarketingEvent",e),fetch(dt,{method:"POST",headers:{"Content-Type":"application/json","X-Insert-Key":st},body:JSON.stringify({eventType:"AdtechMarketingClientEvent",...e})})}function w(e,r={event:"marketingClientErrorEvent",windowHREF:I(window.location.href)}){let{newrelic:t=null}=window;t&&t.noticeError&&t.noticeError(e,r);let o={...r,errorMessage:e?.message,errorStack:e?.stack};Q()&&(console.error("Error",e),console.error("Error NR event",o)),F(o)}var Ke=()=>window?.NikePrivacy?.isEnabled?"nike-privacy-core":"ux-tread-privacy";function R(e,r){let t={event:"marketingClientEvent",memberEvent:e,referer:I(document.referrer),signInFlow:r,windowHREF:I(window.location.href)};F(t)}function Fe(e){let{application:{country:r,view:t},filter:o,consumer:{allowsPerformance:n},scriptSource:i,event:a,eventId:c}=e,s={event:"marketingClientEvent",eventName:a,country:r,eventId:c,isEVO:H(),privacyType:Ke(),scriptSource:i,filter:o,windowHREF:I(window.location.href),referer:I(document.referrer),version:A,view:t};n&&F(s)}var z=async()=>{try{let e=await window?.webShellClient?.identity?.getUserProfile()||{};return e?.signInFlow==="JOIN"&&(localStorage.setItem("adtech_member_joined","true"),f()&&R("webshell-sign-in-flow",e.signInFlow),localStorage.getItem("adtech_member_joined_count")||(f()&&R("member-sign-in-flow",e.signInFlow),localStorage.setItem("adtech_member_joined_count","1"))),{email:e.email||"",mobileNumber:e.mobileNumber||"",signInFlow:e.signInFlow||"",registeredCountry:e.registeredCountry||"",userType:e.userType||""}}catch(e){return y(e),e instanceof Error&&f()&&w(e),{email:"",mobileNumber:"",registeredCountry:"",signInFlow:"",userType:""}}};var ut=async e=>({hashedEmail:await P(e.email.toLowerCase().trim())||"",loggedIn:"Y",memberEmail:e.email,memberLocation:e.registeredCountry,mobileNumber:e.mobileNumber,memberType:e.userType}),ze=async()=>{let e={hashedEmail:"",loggedIn:"N",memberEmail:"",memberLocation:"",mobileNumber:"",memberType:""},r=await z();return r.email?await ut(r):e};function le(e){return e.replace(/[^\d]/g,"")}var $e=async e=>{let r=await ze(),t=e.consumer?.customerEmail??"",o=await P(t),n=e.consumer?.customerPhoneNumber?le(e.consumer?.customerPhoneNumber):"",i=r?.mobileNumber?le(r.mobileNumber):"",a=await P(n),c=await P(i);return{allows1PA:K(),allowsBehavioral:u(),allowsPerformance:f(),email:r.memberEmail||t,hashedEmail:r.hashedEmail||o,hashedPhoneNumber:c||a,loggedIn:r.loggedIn,memberLocation:r.memberLocation,memberType:r.memberType.toUpperCase()}};var $,mt=new Uint8Array(16);function de(){if(!$&&($=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(mt)}var m=[];for(let e=0;e<256;++e)m.push((e+256).toString(16).slice(1));function We(e,r=0){return m[e[r+0]]+m[e[r+1]]+m[e[r+2]]+m[e[r+3]]+"-"+m[e[r+4]]+m[e[r+5]]+"-"+m[e[r+6]]+m[e[r+7]]+"-"+m[e[r+8]]+m[e[r+9]]+"-"+m[e[r+10]]+m[e[r+11]]+m[e[r+12]]+m[e[r+13]]+m[e[r+14]]+m[e[r+15]]}var pt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ue={randomUUID:pt};function ft(e,r,t){if(ue.randomUUID&&!r&&!e)return ue.randomUUID();e=e||{};let o=e.random||(e.rng||de)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,r){t=t||0;for(let n=0;n<16;++n)r[t+n]=o[n];return r}return We(o)}var L=ft;var W=e=>{let r=e?.event||e?.eventName,t=e?.application?.view||"",o=["gridwall","launch-feed","launch-in-stock","launch-upcoming"],n=["pdp","launch-pdp"],i=["cart"],a=["launch-checkout"];switch(r){case"cartViewed":return"onCartViewed";case"onLoad":if(o.includes(t))return"onProductListViewed";if(n.includes(t))return"onProductViewed";if(i.includes(t))return"onCartViewed";if(a.includes(t))return"onCheckoutViewed";break;case"landingPageViewed":return"onLandingPageViewed";case"colorChange":return"onColorChange";case"sizeSelect":return"onSizeSelect";case"addToCart":return"onProductAdded";case"productAdded":return"onProductAdded";case"memberJoined":return"onMemberJoined";case"registrationPageViewed":return"onRegistrationViewed";default:break}switch(t){case"cart":return"onCartViewed";case"checkout":return"onCheckoutViewed";case"checkout type":return"onCheckoutViewed";case"order confirmation":return"onOrderCompleted";case"evo order confirmation":return"onOrderCompleted";case"order review":return"onCheckoutViewed";case"payment":return"onCheckoutViewed";case"shipping":return"onCheckoutViewed";case"evo checkout":return"onCheckoutViewed";case"homepage":return"onLandingPageViewed";case"landing page":return"onLandingPageViewed";case"editorial":return"onLandingPageViewed";case"memberJoined":return"onMemberJoined";default:break}return""};var qe=e=>{let r=W(e);return{eventId:L(),event:r}};var Je=e=>({filter:e.filters?.sortBy??""});function Ye(e){return e?Array.isArray(e)&&e.length&&e[0]!==void 0?e:Array.isArray(e)?[]:Object.values(e).map(r=>r.code):[]}function Xe(e){return e?{ae:"AED",at:"EUR",au:"AUD",be:"EUR",bg:"BGN",ca:"CAD",ch:"CHF",cl:"CLP",cn:"CNY",cz:"EUR",de:"EUR",dk:"DKK",eg:"EGP",es:"EUR",fi:"EUR",fr:"EUR",gb:"GBP",gr:"EUR",hk:"CNY",hr:"EUR",hu:"EUR",id:"IDR",ie:"EUR",il:"ILS",in:"INR",it:"EUR",kr:"KRW",jp:"JPY",lu:"EUR",ma:"MAD",mx:"MXN",my:"MYR",nl:"EUR",no:"NOK",nz:"NZD",ph:"PHP",pl:"PLN",pr:"USD",pt:"EUR",ro:"RON",ru:"RUB",sa:"SAR",se:"SEK",sg:"SGD",si:"EUR",sk:"EUR",th:"THB",tr:"TRY",tw:"TWD",us:"USD",vn:"VND",za:"ZAR"}[e.toLowerCase()]:""}var Ze=async(e,r)=>{let t=Xe(r),o=e.order?.discount??0,n=e.order?.orderId??"",i=await P(n),a=Ye(e.order?.promoCodeList),c=e.order?.shipping??0,s=e.order?.subtotal??0,l=e.order?.tax??0,g=e.order?.total??0;return{currencyCode:t,discount:o,hashedOrderId:i,orderId:n,promoCodeList:a,shipping:c,subtotal:s,tax:l,total:g}};var Qe=(e,r)=>{let t=window.location.origin==="https://www.nike.com.cn"?"https://product-proxy.adtech-prod.nikecloud.com.cn/products":"https://product-proxy-v2.adtech-prod.nikecloud.com/products";return!e.length||r===void 0?Promise.resolve([]):fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({experienceProducts:e,country:r})}).then(o=>{if(!o.ok){let n=o.headers.get("Content-Type");return n&&n.includes("application/json")?o.json().then(i=>{let a=i.error?new Error(i.error):new Error("fetch response not ok");return Promise.reject(a)}):Promise.reject(new Error("fetch response not ok"))}return o.json()}).then(o=>(d("\u{1F45F} Product Data",o),o.hydratedProducts??[])).catch(o=>{y(o);let n=new Error(`Cloud Product Data Error: ${o instanceof Error?o.message:String(o)}`);return w(n,{event:"marketingClientErrorEvent",windowHREF:window.location.href,experienceProducts:e,country:r}),[]})};var er=(e,r)=>r.currentPrice*e.quantity;var rr=(e=[],r=[])=>Array.from(new Set([...Array.isArray(e)?e:[],...Array.isArray(r)?r:[]]));var tr=(e,r)=>{let t=r?.skuData??[],o={size:e?.size??"",sku:e?.sku??"",gtin:e?.gtin??""},n={size:t.length?t[0].size:"",sku:t.length?t[0].sku:"",gtin:t.length?t[0].gtin:""};return t.length?t.find(({size:i})=>i===o.size)??n:o};var or=(e,r)=>r.length&&!e.length?r:!r.length&&!e.length?[]:r.map(o=>{let n=e.find(({cloudProductId:i})=>i===o.cloudProductId);if(n){let i={...o,...n,genders:rr(o.genders,n.genders),...tr(o,n),currentPrice:o.currentPrice===0?n.currentPrice:o.currentPrice,id:o.id?o.id:n.prodigyId,fullPrice:o.fullPrice===0?n.fullPrice:o.fullPrice,currentPriceTotal:o.currentPriceTotal===0?er(o,n):o.currentPriceTotal},{skuData:a,...c}=i;return c}return o});var gt="EU",vt="XP",yt="XA",wt="AU";function ht(e){switch(e){case"OOS":return"Fouts";case"LOW":return"Miller";case"MEDIUM":return"Dixon";case"HIGH":return"Mariota";default:return""}}function Ct(e){let r=e.objects.map(o=>o.level),t={};return r.forEach(o=>{t[o]=(t[o]||0)+1}),t}function Et(e){let r=["GB","AT","FR","IT","DE","ES","BE","CZ","DK","FI","GR","HU","IE","LU","NL","PL","PT","SE","SI"],t=["AE","BG","CA","CH","CL","EG","HR","IL","MA","NO","ZA","NZ","PR","RO","RU","SA","SK","TR"],o=["ID","IN","MY","PH","SG","TH","TW","VN"];return r.indexOf(e)>-1?gt:t.indexOf(e)>-1?vt:o.indexOf(e)>-1?yt:e==="AU"?wt:e.toUpperCase()}function bt(e){let r=0,t="";for(let o in e)if(e[o]>r){if(o==="OOS"&&Object.keys(e).length>1)return"LOW";r=e[o],t=o}else e[o]===r&&(t==="HIGH"&&o==="MEDIUM"?t="MEDIUM":t==="HIGH"&&o==="LOW"?t="LOW":t==="MEDIUM"&&o==="HIGH"?t="MEDIUM":(t==="MEDIUM"&&o==="LOW"||t==="LOW"&&o==="MEDIUM"||t==="LOW"&&o==="HIGH")&&(t="LOW"));return t}function Pt(e){let r=Ct(e),t=bt(r);return ht(t)}function kt(e,r){let t=Et(r.toUpperCase()),o=window.location.origin==="https://www.nike.com.cn"?"api.nike.com.cn":"api.nike.com",n=encodeURI(`https://${o}/deliver/available_gtins/v3?filter=styleColor(${e})&filter=merchGroup(${t})`);return fetch(n,{credentials:"include"}).then(i=>i.json()).then(i=>Pt(i))}function nr(e,r=[]){let t=e?.application?.country||"",o=r.filter(i=>i.cloudProductId!==null),n=W(e);if(o.length>0){let i=o.map(async a=>{if(a?.color&&t&&(n==="onProductViewed"||n==="onCartViewed"))try{let c=await kt(a.color,t);return{...a,inventoryLevel:c}}catch(c){return y(c),{...a,inventoryLevel:""}}return{...a,inventoryLevel:""}});return Promise.all(i)}return Promise.resolve([])}var ir=e=>e?.length?e.map(r=>({brand:r?.brand||"",category:r?.category||"",cloudProductId:r?.cloudProductId||"",color:r?.color||"",currentPrice:r?.currentPrice||0,currentPriceTotal:r?.currentPriceTotal||0,fullPrice:r?.fullPrice||0,genders:r?.genders||[],id:r?.id||"",inventoryLevel:r?.inventoryLevel||"",isNikeByYou:r?.isNikeByYou||!1,isOnSale:r?.isOnSale||!1,name:r?.name||"",discounts:r?.discounts||[],quantity:r?.quantity||1,size:r?.size||"",sku:r?.sku||"",gtin:r?.gtin||"",subCategory:r?.subCategory||[]})):[];var ar=async(e,r)=>{let t=ir(e.productList),o=t.filter(a=>!a.category.includes("GIFT_CARD")).filter(a=>a?.cloudProductId?.includes("-")).map(a=>({cloudProductId:a.cloudProductId,currentPrice:a.currentPrice}))??[],[n,i]=await Promise.all([nr(e,t),Qe(o,r)]);return or(i,n)};var cr=e=>{let r=0,t=0,o=0,n=0;for(let i of e){r+=i.currentPrice*i.quantity,t+=i.quantity;let a=i.discounts?.reduce((c,s)=>c+s.discountAmount,0)||0;o+=a}return n=r-o,{currentPrice:r,quantity:t,discount:o,discountedPrice:n}};var sr=async e=>{let r=he(e),[t,o,n]=await Promise.all([$e(e),Ze(e,r.country),ar(e,r.country)]),i=cr(n),{filter:a}=Je(e),{event:c,eventId:s}=qe(e),l=we(e,c);return{application:r,consumer:t,filter:a,event:c,eventId:s,order:o,productList:n,scriptSource:l,productTotals:i}};var lr=(e,r,t)=>({currencyCode:t.order.currencyCode,impressions:e,items:r}),xt=(e,r)=>({detail:{products:e},items:r}),It=(e,r,t)=>({currencyCode:t.order.currencyCode,add:{products:e},items:r}),Rt=(e,r)=>({checkout:{products:e},items:r}),_t=(e,r,t)=>({currencyCode:t.order.currencyCode,purchase:{actionField:{id:t.order.orderId,coupon:Array.isArray(t.order.promoCodeList)&&t.order.promoCodeList.length?t.order.promoCodeList.join("|"):"",revenue:t.order.total,shipping:t.order.shipping,tax:t.order.tax},products:e},items:r});function dr(e){let r=e.productList.map(n=>({brand:n.brand,category:n.category,id:n.id,list:e.filter,name:n.name,price:n.currentPriceTotal,quantity:n.quantity,variant:n.color})),t=e.productList.map(n=>({item_name:n.name,item_id:n.id,price:n.currentPriceTotal,item_brand:n.brand,item_category:n.category,item_variant:n.color,item_list_name:e.filter,quantity:n.quantity}));return{onProductListViewed:lr,onProductListFiltered:lr,onProductViewed:xt,onProductAdded:It,onCheckoutViewed:Rt,onOrderCompleted:_t}[e.event]?.(r,t,e)??{}}var ur=e=>{let{application:r,consumer:t,event:o,eventId:n,filter:i,order:a,productList:c,productTotals:s}=e,l=dr({productList:c,filter:i,event:o,order:a});return{application:r,consumer:t,ecommerce:l,event:o,eventId:n,filter:i,order:a,productList:c,productTotals:s,productListAggregateData:s}};var mr=e=>{let r=ur(e);window.marketingClientDataLayer=window.marketingClientDataLayer||[],window.marketingClientDataLayer.push(r),d("\u{1F3F7} GTM Egress Data",r)};function O(){let e=D(),r="";if(e&&typeof e.cc=="string"&&e.cc.length>0)r=e.cc;else{let t=location.pathname.slice(1).split("/");t[0].length===2&&(r=t[0])}return r.toLowerCase()}var St=["ae","at","au","be","bg","ca","ch","cl","cz","de","dk","eg","es","fi","fr","gb","gr","hr","hu","id","ie","il","in","it","jp","lu","ma","mx","my","nl","no","nz","ph","pl","pr","pt","ro","ru","sa","se","sg","si","sk","th","tr","tw","us","vn","za"],pr=()=>{let e=O();return e==="us"||St.includes(e)&&u()};var fr=(e,r)=>{let t={...r,eventData:{...r.eventData,request:{client:"fetch"}}};return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),keepalive:!0})},Ot=(e,r)=>{let t={...r,eventData:{...r.eventData,request:{client:"beacon"}}};return navigator.sendBeacon(e,JSON.stringify(t))},Tt=(e,r)=>{if(!navigator.sendBeacon)return fr(e,r);let t=Ot(e,r);return t||fr(e,r)},gr=e=>{try{let r="https://consumersignals.services.nike.com/consumersignals/kennedy/v1/stream",t={type:"page",anonymousID:e.anonymousId,eventData:e};d("\u{1F300} NMP-Utils Egress Data",e),Tt(r,t)}catch(r){y(r),r instanceof Error&&w(r)}};var vr=e=>{let{application:{view:r}}=e,t=window.location.pathname?.split("/")?.pop()||"";typeof localStorage!==void 0&&r==="evo order confirmation"&&localStorage.setItem("evo-order-event",t)};var q=e=>{window.marketingClientDataLayer=window.marketingClientDataLayer||[];function r(t,o,n){window.marketingClientDataLayer&&window.marketingClientDataLayer.push(arguments)}r("consent",e,{ad_storage:u()?"granted":"denied",ad_user_data:u()?"granted":"denied",ad_personalization:u()?"granted":"denied",analytics_storage:u()?"granted":"denied",nike_bead:u()?"granted":"denied",nike_1pa:K()?"granted":"denied",nike_performance:f()?"granted":"denied"})};var U=()=>O()==="us"||u();var yr=e=>({allows1PA:e?.consumer?.allows1PA||!1,allowsBehavioral:e?.consumer?.allowsBehavioral||!1,allowsPerformance:e?.consumer?.allowsPerformance||!1,currencyType:e?.order?.currencyCode||"",hashedEmail:e?.consumer?.hashedEmail||"",hashedPhoneNumber:e?.consumer?.hashedPhoneNumber||"",loggedIn:e?.consumer?.loggedIn||""});var wr=()=>window.location.href;var E=()=>new Date;var hr=(e,r)=>Math.floor(Math.random()*(r-e))+e;var J=e=>new URLSearchParams(window.location.search).get(e)||"";var T=(e,r)=>{let t=new Date(e.getTime());return t.setMonth(e.getMonth()+r),t.toUTCString()};function M(e,r,t){document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(r)}; expires=${t}; domain=.nike.com; path=/; Secure`,d(`\u{1F36A} ${e} cookie set to ${r}`)}var Y=(...e)=>{e.forEach(r=>{let t=new Date;t.setTime(t.getTime()-1),document.cookie=`${encodeURIComponent(r)}=; expires=${t.toUTCString()}; domain=.nike.com; path=/;`,d(`\u{1F36A} ${r} cookie invalidated`)})};var Mt=e=>{let r=`fb.1.${E().getTime()}.${e}`;return u()&&M("_fbc",r,T(E(),3)),r},Nt=()=>{let e=`fb.1.${E().getTime()}.${hr(1e7,1e12)}`;return u()&&M("_fbp",e,T(E(),3)),e},Cr=()=>{let e=J("fbclid"),r=p("_fbp"),t=p("_fbc"),o=e&&(!t||t?.split(".")[t.split(".").length-1]!==e)?Mt(e):t||"",n=r??Nt();return{fbcId:o,fbpId:n}},Er=()=>{Y("_fbp","_fbc")};var Dt=e=>(u()&&M("_rdt_cid",e,T(E(),3)),e),Lt=()=>{let e=`${E().getTime()}.${L()}`;return u()&&M("_rdt_uuid",e,T(E(),3)),e},br=()=>{let e=J("rdt_cid"),r=p("_rdt_cid"),t=p("_rdt_uuid"),n=e&&(!r||r!==e)?Dt(e):r||"",i=t??Lt();return{cid:n,uuid:i}},Pr=()=>{Y("_rdt_uuid","_rdt_cid")};var kr=e=>{let r=yr(e),t=wr(),o=p("anonymousId"),n=p("_scid"),i=p("_ttp"),a=p("ttclid");return{...e,consumer:r,anonymousId:o,facebook:Cr(),tiktok:{ttp:i,ttclid:a},reddit:br(),scId:n,url:t}};var xr=()=>{Er(),Pr()};var Ut=()=>{u()||(d("\u{1F4A7} Invalidating Cookies"),xr())},Ir=async e=>{try{Ut();let r=await sr(e);if(d("\u{1F4A7} Hydrated Marketing Client Data",r),U()&&(q("update"),mr(r)),pr()){let t=kr(r);gr(t)}vr(r),f()&&Fe(r)}catch(r){y(r),r instanceof Error&&w(r)}};var me=e=>{if(!e){d("\u{1F969} Raw Marketing Client Event Empty",e);return}if(ye(e)){d("\u{1F969} Raw Marketing Client Event Double Firing",e);return}if(ge(e)){d("\u{1F969} Raw Marketing Client Event Stored Evo Order Event",e);return}if(e["@nike/mc.metadata"]?.dispatchedAt){d("\u{1F969} Raw Marketing Client Event Already dispatched",e);return}e["@nike/mc.metadata"]={dispatchedAt:new Date().toISOString()},d("\u{1F969} Raw Marketing Client Event Data",e),Ir({...e,"@nike/mc.metadata":void 0})};var Rr=e=>r=>t=>(d(`\u{1F35D} ${e}`,t),r(t)),_r=()=>(window.NikeConsumerSignals||(window.NikeConsumerSignals=[]),window.NikeConsumerSignals),X=e=>{_r().push(e)},Sr=()=>{let e=window,r=_r();r.forEach(Rr("Clearing queued events")(me)),r.push=function(...t){let{length:o}=this;return Array.prototype.push.apply(this,t),this.slice(o).forEach(Rr("Dispatching incoming event")(me)),this.length},e.marketing=X,dispatchEvent(new Event("@mc/marketing_available"))};function At(){let e="marketingClientGTM";if(document.getElementById(e))return;let r=`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','marketingClientDataLayer','GTM-NTF2X45');`,t=document.createElement("script");t.setAttribute("id",e);let o=document.createTextNode(r);t.appendChild(o),document.getElementsByTagName("head")[0].appendChild(t)}function Or(){try{q("default"),At()}catch(e){let r=new Error(`GTM Initialization Error: ${e instanceof Error?e.message:String(e)}`);w(r)}}function Tr(){let e=p("NIKE_COMMERCE_LANG_LOCALE"),r="";return e&&(r=e.toLowerCase()),r}var jt=e=>{window?.NikeConsumerSignals?X(e):window?.marketing&&window.marketing(e)},Mr=()=>{let e=localStorage.getItem("dcm_member_joined_success"),r=localStorage.getItem("adtech_member_joined"),t=localStorage.getItem("adtech_member_joined_count"),o={application:{view:"memberJoined",country:O(),language:Tr()},eventName:"memberJoined"},n={detail:o};e==="true"&&(f()&&R("legacy-neo"),localStorage.removeItem("dcm_member_joined_success"),document.documentElement.dispatchEvent(new CustomEvent("neo",n))),r==="true"&&t==="1"&&(window?.marketing||window?.NikeConsumerSignals)&&(f()&&R("webshell-window.marketing"),localStorage.setItem("adtech_member_joined_count","0"),jt(o)),r==="true"&&t==="1"&&!window?.marketing&&(f()&&R("webshell-neo"),localStorage.setItem("adtech_member_joined_count","0"),document.documentElement.dispatchEvent(new CustomEvent("neo",n))),localStorage.removeItem("adtech_member_joined")};var Nr=async(e=window)=>{if(!e.NikePrivacy?.isEnabled)return!1;try{return await e.NikePrivacy.isInitialized()}catch(r){return j("warn","Nike Privacy was not initialized",[r]),!1}};(async()=>(await Nr(),U()&&Or(),Sr(),z().then(e=>{e?.signInFlow==="JOIN"&&U()&&Mr()})))();})();
/*! Bundled license information:

js-cookie/src/js.cookie.js:
  (*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   *)
*/
